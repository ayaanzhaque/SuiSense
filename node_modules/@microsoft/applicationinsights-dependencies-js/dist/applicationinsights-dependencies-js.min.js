/*!
 * Application Insights JavaScript SDK - Dependencies Plugin, 2.5.5
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights={}))}(this,function(e){"use strict";var i="function",a="object",t="undefined",o="prototype",s="hasOwnProperty";function n(){return typeof globalThis!==t&&globalThis?globalThis:typeof self!==t&&self?self:typeof window!==t&&window?window:typeof global!==t&&global?global:null}function r(e){var t=Object.create;if(t)return t(e);if(null==e)return{};var n=typeof e;if(n!==a&&n!==i)throw new TypeError("Object prototype may only be an Object:"+e);function r(){}return r[o]=e,new r}function u(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object[o][s].call(t,i)&&(e[i]=t[i]);return e}var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[s](n)&&(e[n]=t[n])})(e,t)};var c,d,f,p,g,h,L,m,v=n()||{};d=function(e,t){function n(){this.constructor=e}l(e,t),e[o]=null===t?r(t):(n[o]=t[o],new n)},(c=v).__assign=c.__assign||Object.assign||u,c.__extends=c.__extends||d,__assign=v.__assign,__extends=v.__extends,(p=f=f||{})[p.LocalStorage=0]="LocalStorage",p[p.SessionStorage=1]="SessionStorage",(h=g=g||{})[h.Default=0]="Default",h[h.Required=1]="Required",h[h.Array=2]="Array",h[h.Hidden=4]="Hidden",(m=L=L||{})[m.AI=0]="AI",m[m.AI_AND_W3C=1]="AI_AND_W3C",m[m.W3C=2]="W3C";var x=2,R=t,y=a,q=o,S=i,I="window",C="location",T="performance",_="JSON",b="crypto",k=n;function N(e){var t=k();return t&&t[e]?t[e]:e===I&&A()?window:null}function A(){return Boolean(typeof window===y&&window)}function M(){return A()?window:N(I)}function D(){return Boolean(typeof document===y&&document)?document:N("document")}function w(){return Boolean(typeof navigator===y&&navigator)?navigator:N("navigator")}function F(){return typeof location===y&&location?location:N(C)}function H(){return N(T)}function E(){return Boolean(typeof JSON===y&&JSON||null!==N(_))}function O(){return E()?JSON||N(_):null}var U="attachEvent",j="addEventListener",P="detachEvent",z="removeEventListener";function G(e,t){return typeof e===t}function B(e){return G(e,t)||e===undefined}function W(e){return B(e)||null===e}function X(e,t){return e&&Object[o].hasOwnProperty.call(e,t)}function V(e){return G(e,a)}function K(e){return G(e,i)}function Q(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!W(e))try{W(e[j])?W(e[U])||(e[U]("on"+t,n),i=!0):(e[j](t,n,r),i=!0)}catch(a){}return i}function $(e,t,n,r){if(void 0===r&&(r=!1),!W(e))try{W(e[z])?W(e[P])||e[P]("on"+t,n):e[z](t,n,r)}catch(i){}}var J=(Y.isDate=function(e){return"[object Date]"===Object[o].toString.call(e)},Y.isString=function(e){return G(e,"string")},Y.isNumber=function(e){return G(e,"number")},Y.isBoolean=function(e){return G(e,"boolean")},Y.disableCookies=function(){Y._canUseCookies=!1},Y.newGuid=function(){function n(){var e=N(b);return e?e.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(te,function(e){var t=0|n();return("x"===e?t:3&t|8).toString(16)})},Y.toISOString=function(e){if(Y.isDate(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},Y.arrForEach=function(e,t,n){for(var r=e.length,i=0;i<r;++i)i in e&&t.call(n||e,e[i],i,e)},Y.arrIndexOf=function(e,t,n){for(var r=e.length,i=n||0,a=Math.max(0<=i?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===t)return a;return-1},Y.arrMap=function(e,t,n){for(var r=e.length,i=n||e,a=new Array(r),o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e));return a},Y.arrReduce=function(e,t,n){var r,i=e.length,a=0;if(3<=arguments.length)r=n;else{for(;a<i&&!(a in e);)a++;r=e[a++]}for(;a<i;)a in e&&(r=t(r,e[a],a,e)),a++;return r},Y.strTrim=function(e){return Y.isString(e)?e.replace(/^\s+|\s+$/g,""):e},Y.objKeys=function(e){var t=!{toString:null}.propertyIsEnumerable("toString");if(!(K(e)||V(e)&&null!==e))throw new TypeError("objKeys called on non-object");var n=[];for(var r in e)X(e,r)&&n.push(r);if(t)for(var i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=i.length,o=0;o<a;o++)X(e,i[o])&&n.push(i[o]);return n},Y.objDefineAccessors=function(e,t,n,r){var i=Object.defineProperty;if(i)try{var a={enumerable:!0,configurable:!0};return n&&(a.get=n),r&&(a.set=r),i(e,t,a),!0}catch(o){}return!1},Y.addEventHandler=function(e,t){var n=!1,r=M();r&&(n=Q(r,e,t),n=Q(r.body,e,t)||n);var i=D();return i&&(n=ne.Attach(i,e,t)||n),n},Y.isTypeof=G,Y.isUndefined=B,Y.isNullOrUndefined=W,Y.hasOwnProperty=X,Y.isFunction=K,Y.isObject=V,Y.objCreate=r,Y);function Y(){}var Z,ee,te=/[xy]/g,ne=(re.Attach=Q,re.AttachEvent=Q,re.Detach=$,re.DetachEvent=$,re);function re(){}(ee=Z=Z||{})[ee.CRITICAL=1]="CRITICAL",ee[ee.WARNING=2]="WARNING";var ie={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99},ae=(oe.sanitizeDiagnosticText=function(e){return e?'"'+e.replace(/\"/g,"")+'"':""},oe.dataType="MessageData",oe.AiNonUserActionablePrefix="AI (Internal): ",oe.AiUserActionablePrefix="AI: ",oe);function oe(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?oe.AiUserActionablePrefix:oe.AiNonUserActionablePrefix)+e;var i="";E()&&(i=O().stringify(r));var a=(t?" message:"+oe.sanitizeDiagnosticText(t):"")+(r?" props:"+oe.sanitizeDiagnosticText(i):"");this.message+=a}var se=(ue.prototype.throwInternal=function(e,t,n,r,i){void 0===i&&(i=!1);var a,o=new ae(t,n,i,r),s=this;if(s.enableDebugExceptions())throw o;!J.isUndefined(o)&&o&&(J.isUndefined(o.message)||(i?(a=+o.messageId,!s._messageLogged[a]&&s.consoleLoggingLevel()>=Z.WARNING&&(s.warnToConsole(o.message),s._messageLogged[a]=!0)):s.consoleLoggingLevel()>=Z.WARNING&&s.warnToConsole(o.message),s.logInternalMessage(e,o)))},ue.prototype.warnToConsole=function(e){!J.isUndefined(console)&&console&&(J.isFunction(console.warn)?console.warn(e):J.isFunction(console.log)&&console.log(e))},ue.prototype.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},ue.prototype.logInternalMessage=function(e,t){var n,r,i,a,o=this;o._areInternalMessagesThrottled()||(n=!0,r=o.AIInternalMessagePrefix+t.messageId,o._messageLogged[r]?n=!1:o._messageLogged[r]=!0,n&&(e<=o.telemetryLoggingLevel()&&(o.queue.push(t),o._messageCount++),o._messageCount===o.maxInternalMessageLimit()&&(i="Internal events throttle limit per PageView reached for this app.",a=new ae(ie.MessageLimitPerPVExceeded,i,!1),o.queue.push(a),o.warnToConsole(i))))},ue.prototype._areInternalMessagesThrottled=function(){return this._messageCount>=this.maxInternalMessageLimit()},ue);function ue(e){this.queue=[],this.AIInternalMessagePrefix="AITR_",this._messageCount=0,this._messageLogged={},this.enableDebugExceptions=function(){return!1},this.consoleLoggingLevel=function(){return 0},this.telemetryLoggingLevel=function(){return 1},this.maxInternalMessageLimit=function(){return 25},J.isNullOrUndefined(e)||(J.isNullOrUndefined(e.loggingLevelConsole)||(this.consoleLoggingLevel=function(){return e.loggingLevelConsole}),J.isNullOrUndefined(e.loggingLevelTelemetry)||(this.telemetryLoggingLevel=function(){return e.loggingLevelTelemetry}),J.isNullOrUndefined(e.maxMessageLimit)||(this.maxInternalMessageLimit=function(){return e.maxMessageLimit}),J.isNullOrUndefined(e.enableDebugExceptions)||(this.enableDebugExceptions=function(){return e.enableDebugExceptions}))}var le=J.isFunction,ce=function(i,a){var o=this,s=null,u=le(i.processTelemetry),l=le(i.setNextPlugin);o._hasRun=!1,o.getPlugin=function(){return i},o.getNext=function(){return s},o.setNext=function(e){s=e},o.processTelemetry=function(e,t){if(t=t||a,i&&u){o._hasRun=!0;try{t.setNext(s),l&&i.setNextPlugin(s),s&&(s._hasRun=!1),i.processTelemetry(e,t)}catch(r){var n=s&&s._hasRun;s&&n||t.diagLog().throwInternal(Z.CRITICAL,ie.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+r),s&&!n&&s.processTelemetry(e,t)}}else s&&(o._hasRun=!0,s.processTelemetry(e,t))}},de=J.isNullOrUndefined;function fe(e,t){var n=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var a,o=e[i];o&&J.isFunction(o.processTelemetry)&&(a=new ce(o,t),n.push(a),r&&r.setNext(a),r=a)}return 0<n.length?n[0]:null}var pe=function mr(e,a,n,t){var r,i,o,s,u,l=this,c=null;null!==t&&(e&&J.isFunction(e.getPlugin)?c=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();!i&&a!==n||(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),fe(r,t)}(e,l,t||e.getPlugin()):t?(i=l,s=r=e,u=!1,(o=t)&&r&&(s=[],J.arrForEach(r,function(e){!u&&e!==o||(u=!0,s.push(e))})),o&&!u&&(s=s||[]).push(o),c=fe(s,i)):J.isUndefined(t)&&(c=fe(e,l))),l.core=function(){return n},l.diagLog=function(){return(n||{}).logger||new se(a||{})},l.getCfg=function(){return a},l.getExtCfg=function(e,t){var n,r;return void 0===t&&(t={}),!a||(r=a.extensionConfig)&&e&&(n=r[e]),n||t},l.getConfig=function(e,t,n){var r;void 0===n&&(n=!1);var i=l.getExtCfg(e,null);return i&&!de(i[t])?r=i[t]:a&&!de(a[t])&&(r=a[t]),de(r)?n:r},l.hasNext=function(){return null!=c},l.getNext=function(){return c},l.setNext=function(e){c=e},l.processNext=function(e){var t=c;t&&(c=t.getNext(),t.processTelemetry(e,l))},l.createNew=function(e,t){return void 0===e&&(e=null),new mr(e||c,a,n,t)}},ge=J.isFunction,he="getPlugin",me=(ve.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},ve);function ve(){var a=this,o=!1,s=null,u=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){u=e},a.processNext=function(e,t){t?t.processNext(e):u&&ge(u.processTelemetry)&&u.processTelemetry(e,null)},a._getTelCtx=function(e){void 0===e&&(e=null);var t,n=e;return n||(t=s||new pe(null,{},a.core),n=u&&u[he]?t.createNew(null,u[he]):t.createNew(null,u)),n},a._baseTelInit=function(e,t,n,r){e&&(e.extensionConfig=e.extensionConfig||[]),!r&&t&&(r=t.getProcessTelContext().getNext());var i=u;u&&u[he]&&(i=u[he]()),a.core=t,s=new pe(r,e,t,i),o=!0}}var xe=J.isFunction,ye="processTelemetry",Se="priority",Ie="setNextPlugin",Ce="isInitialized";function Te(t,n){for(var e=[],r=null,i=t.getNext();i;){var a=i.getPlugin();a&&(r&&xe(r[Ie])&&xe(a[ye])&&r[Ie](a),xe(a[Ce])&&a[Ce]()||e.push(a),r=a,i=i.getNext())}J.arrForEach(e,function(e){e.initialize(t.getCfg(),t.core(),n,t.getNext())})}function _e(e){return e.sort(function(e,t){var n=0,r=xe(t[ye]);return xe(e[ye])?n=r?e[Se]-t[Se]:1:r&&(n=-1),n})}var be=500,Ne="Channel has invalid priority",Ae=J.arrForEach,Me=J.objDefineAccessors;function De(e,t){t&&0<t.length&&(t=t.sort(function(e,t){return e.priority-t.priority}),Ae(t,function(e){if(e.priority<be)throw Error(Ne+e.identifier)}),e.push(t))}var we,Ee=(we=me,__extends(Le,we),Le.prototype.processTelemetry=function(t,n){var r=this;this._channelQueue&&Ae(this._channelQueue,function(e){0<e.length&&r._getTelCtx(n).createNew(e).processNext(t)})},Le.prototype.getChannelControls=function(){return this._channelQueue},Le.prototype.initialize=function(t,n,r){var e,i,a,o,s;this.isInitialized()||(we.prototype.initialize.call(this,t,n,r),t.isCookieUseDisabled&&J.disableCookies(),e=this._channelQueue=(a=r,s=[],(i=(t||{}).channels)&&Ae(i,function(e){return De(s,e)}),a&&(o=[],Ae(a,function(e){e.priority>be&&o.push(e)}),De(s,o)),s),Ae(e,function(e){return Te(new pe(e,t,n),r)}))},Le._staticInit=(Me(Le.prototype,"ChannelControls",Le.prototype.getChannelControls),void Me(Le.prototype,"channelQueue",Le.prototype.getChannelControls)),Le);function Le(){var e=null!==we&&we.apply(this,arguments)||this;return e.identifier="ChannelControllerPlugin",e.priority=be,e}var Re=J.arrForEach,qe=J.isNullOrUndefined,ke=(Fe.prototype.initialize=function(e,t,r,n){var i=this;if(i.isInitialized())throw Error("Core should not be initialized more than once");if(!e||qe(e.instrumentationKey))throw Error("Please provide instrumentation key");i.config=e;var a=i._channelController;n=n||J.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),i._notificationManager=n,e.extensions=qe(e.extensions)?[]:e.extensions,(e.extensionConfig=qe(e.extensionConfig)?{}:e.extensionConfig).NotificationManager=n,r=r||J.objCreate({throwInternal:function(e,t,n,r,i){void 0===i&&(i=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),i.logger=r;var o=[];o.push.apply(o,t.concat(e.extensions)),o=_e(o);var s=[],u={};if(Re(o,function(e){if(qe(e)||qe(e.initialize))throw Error("Extensions must provide callback to initialize");var t=e.priority,n=e.identifier;e&&t&&(qe(u[t])?u[t]=n:r.warnToConsole("Two extensions have same priority #"+t+" - "+u[t]+", "+n)),(!t||t<a.priority)&&s.push(e)}),o.push(a),s.push(a),o=_e(o),i._extensions=o,Te(new pe([a],e,i),o),Te(new pe(s,e,i),o),i._extensions=s,0===i.getTransmissionControls().length)throw new Error("No channels available");i._setInit(!0)},Fe.prototype.getTransmissionControls=function(){return this._channelController.getChannelControls()},Fe.prototype.track=function(e){var t=this;e.iKey||(e.iKey=t.config.instrumentationKey),e.time||(e.time=J.toISOString(new Date)),qe(e.ver)&&(e.ver="4.0"),t.isInitialized()?(0<t._eventQueue.length&&(Re(t._eventQueue,function(e){t.getProcessTelContext().processNext(e)}),t._eventQueue=[]),t.getProcessTelContext().processNext(e)):t._eventQueue.push(e)},Fe.prototype.getProcessTelContext=function(){var e=this._extensions,t=e;return e&&0!==e.length||(t=[this._channelController]),new pe(t,this.config,this)},Fe);function Fe(){var t=!1,e=this;e._extensions=new Array,e._channelController=new Ee,e.isInitialized=function(){return t},e._setInit=function(e){t=e},e._eventQueue=[]}var He=(Oe.prototype.addNotificationListener=function(e){this.listeners.push(e)},Oe.prototype.removeNotificationListener=function(e){for(var t=J.arrIndexOf(this.listeners,e);-1<t;)this.listeners.splice(t,1),t=J.arrIndexOf(this.listeners,e)},Oe.prototype.eventsSent=function(t){for(var n=this,r=this,e=0;e<this.listeners.length;++e)!function(e){r.listeners[e].eventsSent&&setTimeout(function(){return n.listeners[e].eventsSent(t)},0)}(e)},Oe.prototype.eventsDiscarded=function(t,n){for(var r=this,i=this,e=0;e<this.listeners.length;++e)!function(e){i.listeners[e].eventsDiscarded&&setTimeout(function(){return r.listeners[e].eventsDiscarded(t,n)},0)}(e)},Oe.prototype.eventsSendRequest=function(n,r){for(var i=this,a=this,e=0;e<this.listeners.length;++e)!function(e){if(a.listeners[e].eventsSendRequest)if(r)setTimeout(function(){return i.listeners[e].eventsSendRequest(n,r)},0);else try{a.listeners[e].eventsSendRequest(n,r)}catch(t){}}(e)},Oe);function Oe(){this.listeners=[]}var Ue;Ue=ke,__extends(je,Ue),je.prototype.initialize=function(e,t){var n=this;n._notificationManager=new He,n.logger=new se(e),n.config=e,Ue.prototype.initialize.call(this,e,t,n.logger,n._notificationManager)},je.prototype.getTransmissionControls=function(){return Ue.prototype.getTransmissionControls.call(this)},je.prototype.track=function(e){if(null===e)throw this._notifyInvalidEvent(e),Error("Invalid telemetry item");this._validateTelemetryItem(e),Ue.prototype.track.call(this,e)},je.prototype.addNotificationListener=function(e){this._notificationManager&&this._notificationManager.addNotificationListener(e)},je.prototype.removeNotificationListener=function(e){this._notificationManager&&this._notificationManager.removeNotificationListener(e)},je.prototype.pollInternalLogs=function(r){var t=this,e=this.config.diagnosticLogInterval;return e&&0<e||(e=1e4),setInterval(function(){var n=t,e=n.logger?n.logger.queue:[];J.arrForEach(e,function(e){var t={name:r||"InternalMessageId: "+e.messageId,iKey:n.config.instrumentationKey,time:J.toISOString(new Date),baseType:ae.dataType,baseData:{message:e.message}};n.track(t)}),e.length=0},e)},je.prototype._validateTelemetryItem=function(e){if(J.isNullOrUndefined(e.name))throw this._notifyInvalidEvent(e),Error("telemetry name required")},je.prototype._notifyInvalidEvent=function(e){this._notificationManager&&this._notificationManager.eventsDiscarded([e],x)};function je(){return Ue.call(this)||this}var Pe="_aiHooks",ze=["req","rsp","hkErr","fnErr"];function Ge(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function Be(e,u,l,c,d){0<=d&&d<=2&&Ge(e,function(e,t){var n=e.cbks,r=n[ze[d]];if(r){u.ctx=function(){return c[t]=c[t]||{}};try{r.apply(u.inst,l)}catch(o){var i=u.err;try{var a=n[ze[2]];a&&(u.err=o,a.apply(u.inst,l))}catch(s){}finally{u.err=i}}}})}function We(u){return function(){var n=arguments,e=u.h,r={name:u.n,inst:this,ctx:null,set:function(e,t){(n=a([],n))[e]=t,i=a([r],n)}},t=[],i=a([r],n);function a(t,e){return Ge(e,function(e){t.push(e)}),t}Be(e,r,i,t,0);var o=u.f;try{r.rslt=o.apply(this,n)}catch(s){throw r.err=s,Be(e,r,i,t,3),s}return Be(e,r,i,t,1),r.rslt}}function Xe(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var i=function l(e,t,n){var r=null;return e&&(J.hasOwnProperty(e,t)?r=e:n&&(r=l(e[q],t,!1))),r}(e,t,r),a=i[t];if(typeof a===S){var o,s=a[Pe];s||((o=We(s={i:0,n:t,f:a,h:[]}))[Pe]=s,i[t]=o);var u={id:s.i,cbks:n,rm:function(){var n=this.id;Ge(s.h,function(e,t){return e.id===n&&(s.h.splice(t,1),1)})}};return s.i++,s.h.push(u),u}}return null}var Ve=(Ke.requestContextHeader="Request-Context",Ke.requestContextTargetKey="appId",Ke.requestContextAppIdFormat="appId=cid-v1:",Ke.requestIdHeader="Request-Id",Ke.traceParentHeader="traceparent",Ke.sdkContextHeader="Sdk-Context",Ke.sdkContextHeaderAppIdRequest="appId",Ke.requestContextHeaderLowerCase="request-context",Ke);function Ke(){}var Qe=($e.sanitizeKeyAndAddUniqueness=function(e,t,n){var r=t.length,i=$e.sanitizeKey(e,t);if(i.length!==r){for(var a=0,o=i;n[o]!==undefined;)a++,o=i.substring(0,$e.MAX_NAME_LENGTH-3)+$e.padNumber(a);i=o}return i},$e.sanitizeKey=function(e,t){var n;return t&&(t=$e.trim(t.toString())).length>$e.MAX_NAME_LENGTH&&(n=t.substring(0,$e.MAX_NAME_LENGTH),e.throwInternal(Z.WARNING,ie.NameTooLong,"name is too long.  It has been truncated to "+$e.MAX_NAME_LENGTH+" characters.",{name:t},!0)),n||t},$e.sanitizeString=function(e,t,n){var r;return void 0===n&&(n=$e.MAX_STRING_LENGTH),t&&(n=n||$e.MAX_STRING_LENGTH,(t=$e.trim(t)).toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(Z.WARNING,ie.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t},$e.sanitizeUrl=function(e,t){return $e.sanitizeInput(e,t,$e.MAX_URL_LENGTH,ie.UrlTooLong)},$e.sanitizeMessage=function(e,t){var n;return t&&t.length>$e.MAX_MESSAGE_LENGTH&&(n=t.substring(0,$e.MAX_MESSAGE_LENGTH),e.throwInternal(Z.WARNING,ie.MessageTruncated,"message is too long, it has been truncated to "+$e.MAX_MESSAGE_LENGTH+" characters.",{message:t},!0)),n||t},$e.sanitizeException=function(e,t){var n;return t&&t.length>$e.MAX_EXCEPTION_LENGTH&&(n=t.substring(0,$e.MAX_EXCEPTION_LENGTH),e.throwInternal(Z.WARNING,ie.ExceptionTruncated,"exception is too long, it has been truncated to "+$e.MAX_EXCEPTION_LENGTH+" characters.",{exception:t},!0)),n||t},$e.sanitizeProperties=function(e,t){if(t){var n={};for(var r in t){var i=t[r];if(J.isObject(i)&&E())try{i=O().stringify(i)}catch(a){e.throwInternal(Z.WARNING,ie.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=$e.sanitizeString(e,i,$e.MAX_PROPERTY_LENGTH),n[r=$e.sanitizeKeyAndAddUniqueness(e,r,n)]=i}t=n}return t},$e.sanitizeMeasurements=function(e,t){if(t){var n={};for(var r in t){var i=t[r];n[r=$e.sanitizeKeyAndAddUniqueness(e,r,n)]=i}t=n}return t},$e.sanitizeId=function(e,t){return t?$e.sanitizeInput(e,t,$e.MAX_ID_LENGTH,ie.IdTooLong).toString():t},$e.sanitizeInput=function(e,t,n,r){var i;return t&&(t=$e.trim(t)).length>n&&(i=t.substring(0,n),e.throwInternal(Z.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t},$e.padNumber=function(e){var t="00"+e;return t.substr(t.length-3)},$e.trim=function(e){return J.isString(e)?e.replace(/^\s+|\s+$/g,""):e},$e.MAX_NAME_LENGTH=150,$e.MAX_ID_LENGTH=128,$e.MAX_PROPERTY_LENGTH=8192,$e.MAX_STRING_LENGTH=1024,$e.MAX_URL_LENGTH=2048,$e.MAX_MESSAGE_LENGTH=32768,$e.MAX_EXCEPTION_LENGTH=32768,$e);function $e(){}var Je=w(),Ye=J.isString,Ze=null;var et=(tt.createDomEvent=function(e){var t,n=null;return J.isFunction(Event)?n=new Event(e):(t=D())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n},tt.disableStorage=function(){tt._canUseLocalStorage=!1,tt._canUseSessionStorage=!1},tt._getLocalStorageObject=function(){return tt.canUseLocalStorage()?tt._getVerifiedStorageObject(f.LocalStorage):null},tt._getVerifiedStorageObject=function(e){var t,n,r=null;try{if(J.isNullOrUndefined(k()))return null;n=new Date,(r=e===f.LocalStorage?N("localStorage"):N("sessionStorage")).setItem(n.toString(),n.toString()),t=r.getItem(n.toString())!==n.toString(),r.removeItem(n.toString()),t&&(r=null)}catch(i){r=null}return r},tt.isInternalApplicationInsightsEndpoint=function(e){return-1!==tt._internalEndpoints.indexOf(e.toLowerCase())},tt.canUseLocalStorage=function(){return tt._canUseLocalStorage===undefined&&(tt._canUseLocalStorage=!!tt._getVerifiedStorageObject(f.LocalStorage)),tt._canUseLocalStorage},tt.getStorage=function(e,t){var n=tt._getLocalStorageObject();if(null!==n)try{return n.getItem(t)}catch(r){tt._canUseLocalStorage=!1,e.throwInternal(Z.WARNING,ie.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+tt.getExceptionName(r),{exception:tt.dump(r)})}return null},tt.setStorage=function(e,t,n){var r=tt._getLocalStorageObject();if(null!==r)try{return r.setItem(t,n),!0}catch(i){tt._canUseLocalStorage=!1,e.throwInternal(Z.WARNING,ie.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+tt.getExceptionName(i),{exception:tt.dump(i)})}return!1},tt.removeStorage=function(e,t){var n=tt._getLocalStorageObject();if(null!==n)try{return n.removeItem(t),!0}catch(r){tt._canUseLocalStorage=!1,e.throwInternal(Z.WARNING,ie.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+tt.getExceptionName(r),{exception:tt.dump(r)})}return!1},tt._getSessionStorageObject=function(){return tt.canUseSessionStorage()?tt._getVerifiedStorageObject(f.SessionStorage):null},tt.canUseSessionStorage=function(){return tt._canUseSessionStorage===undefined&&(tt._canUseSessionStorage=!!tt._getVerifiedStorageObject(f.SessionStorage)),tt._canUseSessionStorage},tt.getSessionStorageKeys=function(){var e=[];if(tt.canUseSessionStorage())for(var t in N("sessionStorage"))e.push(t);return e},tt.getSessionStorage=function(e,t){var n=tt._getSessionStorageObject();if(null!==n)try{return n.getItem(t)}catch(r){tt._canUseSessionStorage=!1,e.throwInternal(Z.WARNING,ie.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+tt.getExceptionName(r),{exception:tt.dump(r)})}return null},tt.setSessionStorage=function(e,t,n){var r=tt._getSessionStorageObject();if(null!==r)try{return r.setItem(t,n),!0}catch(i){tt._canUseSessionStorage=!1,e.throwInternal(Z.WARNING,ie.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+tt.getExceptionName(i),{exception:tt.dump(i)})}return!1},tt.removeSessionStorage=function(e,t){var n=tt._getSessionStorageObject();if(null!==n)try{return n.removeItem(t),!0}catch(r){tt._canUseSessionStorage=!1,e.throwInternal(Z.WARNING,ie.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+tt.getExceptionName(r),{exception:tt.dump(r)})}return!1},tt.disableCookies=function(){J.disableCookies()},tt.canUseCookies=function(e){if(J._canUseCookies===undefined){J._canUseCookies=!1;try{J._canUseCookies=tt.document.cookie!==undefined}catch(t){e.throwInternal(Z.WARNING,ie.CannotAccessCookie,"Cannot access document.cookie - "+tt.getExceptionName(t),{exception:tt.dump(t)})}}return J._canUseCookies},tt.disallowsSameSiteNone=function(e){return!!Ye(e)&&(-1!==e.indexOf("CPU iPhone OS 12")||-1!==e.indexOf("iPad; CPU OS 12")||-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&-1!==e.indexOf("Version/")&&-1!==e.indexOf("Safari")||-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&(n="AppleWebKit/605.1.15 (KHTML, like Gecko)",r=(t=e).length,i=r-n.length,t.substring(0<=i?i:0,r)===n)||-1!==e.indexOf("Chrome/5")||-1!==e.indexOf("Chrome/6")||-1!==e.indexOf("UnrealEngine")&&-1===e.indexOf("Chrome")||-1!==e.indexOf("UCBrowser/12")||-1!==e.indexOf("UCBrowser/11"));var t,n,r,i},tt.setCookie=function(e,t,n,r){var i,a,o;tt.canUseCookies(e)&&(a=i="",r&&(i=";domain="+r),(o=F())&&"https:"===o.protocol&&(a=";secure",null===Ze&&(Ze=tt.disallowsSameSiteNone((w()||{}).userAgent)),Ze||(n+=";SameSite=None")),tt.document.cookie=t+"="+n+i+";path=/"+a)},tt.stringToBoolOrDefault=function(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"===e.toString().toLowerCase()},tt.getCookie=function(e,t){if(tt.canUseCookies(e)){var n="";if(t&&t.length)for(var r=t+"=",i=tt.document.cookie.split(";"),a=0;a<i.length;a++){var o=i[a];if((o=tt.trim(o))&&0===o.indexOf(r)){n=o.substring(r.length,i[a].length);break}}return n}},tt.deleteCookie=function(e,t){tt.canUseCookies(e)&&(tt.document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},tt.newId=function(){for(var e="",t=1073741824*Math.random();0<t;)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t%64),t=Math.floor(t/64);return e},tt.random32=function(){return 4294967296*Math.random()|0},tt.generateW3CId=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=tt.random32())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)},tt.isArray=function(e){return"[object Array]"===Object[q].toString.call(e)},tt.isError=function(e){return"[object Error]"===Object[q].toString.call(e)},tt.getIEVersion=function(e){void 0===e&&(e=null);var t=e?e.toLowerCase():Je?(Je.userAgent||"").toLowerCase():"";if(-1!==t.indexOf("msie"))return parseInt(t.split("msie")[1]);if(t.indexOf("trident/")){var n=parseInt(t.split("trident/")[1]);if(n)return n+4}return null},tt.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5),t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r;return(0<a?a+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t},tt.isCrossOriginError=function(e,t,n,r,i){return("Script error."===e||"Script error"===e)&&!i},tt.dump=function(e){var t=Object[q].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":E()&&(n=O().stringify(e)),t+n},tt.getExceptionName=function(e){return"[object Error]"===Object[q].toString.call(e)?e.name:""},tt.addEventHandler=function(e,t){return ne.Attach(M(),e,t)},tt.IsBeaconApiSupported=function(){return"sendBeacon"in Je&&Je.sendBeacon},tt.getExtension=function(e,t){for(var n=null,r=0;!n&&r<e.length;)e[r]&&e[r].identifier===t&&(n=e[r]),r++;return n},tt.document=D()||{},tt._canUseLocalStorage=undefined,tt._canUseSessionStorage=undefined,tt._internalEndpoints=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],tt.NotSpecified="not_specified",tt.trim=J.strTrim,tt.isDate=J.isDate,tt.toISOStringForIE8=J.toISOString,tt);function tt(){}var nt=(rt.parseUrl=function(e){var t=rt._htmlAnchorIdx,n=rt._htmlAnchorElement,r=n[t];return rt.document.createElement?n[t]||(r=n[t]=rt.document.createElement("a")):r={host:rt.parseHost(e,!0)},r.href=e,++t>=n.length&&(t=0),rt._htmlAnchorIdx=t,r},rt.getAbsoluteUrl=function(e){var t,n=rt.parseUrl(e);return n&&(t=n.href),t},rt.getPathName=function(e){var t,n=rt.parseUrl(e);return n&&(t=n.pathname),t},rt.getCompleteUrl=function(e,t){return e?e.toUpperCase()+" "+t:t},rt.parseHost=function(e,t){var n=rt.parseFullHost(e,t);if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&3<r.length&&Ye(r[2])&&0<r[2].length)return r[2]+(r[3]||"")}return n},rt.parseFullHost=function(e,t){var n,r,i,a=null;return!e||null!=(n=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<n.length&&Ye(n[2])&&0<n[2].length&&(a=n[2]||"",t&&2<n.length&&(r=(n[1]||"").toLowerCase(),i=n[3]||"",("http"===r&&":80"===i||"https"===r&&":443"===i)&&(i=""),a+=i)),a},rt.document=D()||{},rt._htmlAnchorIdx=0,rt._htmlAnchorElement=[null,null,null,null,null],rt);function rt(){}var it=(at.canIncludeCorrelationHeader=function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;var r=nt.parseUrl(t).host.toLowerCase();if(!r||-1===r.indexOf(":443")&&-1===r.indexOf(":80")||(r=(nt.parseFullHost(t,!0)||"").toLowerCase()),!(e&&e.enableCorsCorrelation||r===n))return!1;var i,a=e&&e.correlationHeaderDomains;if(a&&(J.arrForEach(a,function(e){var t=new RegExp(e.toLowerCase().replace(/\./g,".").replace(/\*/g,".*"));i=i||t.test(r)}),!i))return!1;var o=e&&e.correlationHeaderExcludedDomains;if(!o||0===o.length)return!0;for(var s=0;s<o.length;s++)if(new RegExp(o[s].toLowerCase().replace(/\./g,".").replace(/\*/g,".*")).test(r))return!1;return r&&0<r.length},at.getCorrelationContext=function(e){if(e){var t=at.getCorrelationContextValue(e,Ve.requestContextTargetKey);if(t&&t!==at.correlationIdPrefix)return t}},at.getCorrelationContextValue=function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}},at.correlationIdPrefix="cid-v1:",at);function at(){}var ot=(st.ParseDependencyPath=function(e,t,n,r){var i,a,o,s=r,u=r;return s=t&&0<t.length?(o=(i=nt.parseUrl(t)).host,s||(null!=i.pathname?("/"!==(a=0===i.pathname.length?"/":i.pathname).charAt(0)&&(a="/"+a),u=i.pathname,Qe.sanitizeString(e,n?n+" "+a:a)):Qe.sanitizeString(e,t))):o=r,{target:o,name:s,data:u}},st);function st(){}var ut=(lt.Now=function(){var e=H();return e&&e.now&&e.timing?e.now()+e.timing.navigationStart:(new Date).getTime()},lt.GetDuration=function(e,t){var n=null;return 0===e||0===t||J.isNullOrUndefined(e)||J.isNullOrUndefined(t)||(n=t-e),n},lt);function lt(){}var ct,dt="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ft=(ct=function(){},__extends(pt,ct),pt);function pt(){return ct.call(this)||this}var gt;gt=function(){this.ver=1,this.sampleRate=100,this.tags={}},__extends(ht,gt);function ht(e,t,n){var r=gt.call(this)||this;return r.name=Qe.sanitizeString(e,n)||et.NotSpecified,r.data=t,r.time=J.toISOString(new Date),r.aiDataContract={time:g.Required,iKey:g.Required,name:g.Required,sampleRate:function(){return 100===r.sampleRate?g.Hidden:g.Required},tags:g.Required,data:g.Required},r}var mt,vt=function(){},xt=(mt=vt,__extends(yt,mt),yt);function yt(){var e=mt.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var St;St=xt,__extends(It,St),It.envelopeType="Microsoft.ApplicationInsights.{0}.Event",It.dataType="EventData";function It(e,t,n,r){var i=St.call(this)||this;return i.aiDataContract={ver:g.Required,name:g.Required,properties:g.Default,measurements:g.Default},i.name=Qe.sanitizeString(e,t)||et.NotSpecified,i.properties=Qe.sanitizeProperties(e,n),i.measurements=Qe.sanitizeMeasurements(e,r),i}var Ct,Tt=function(){},_t=(Ct=vt,__extends(bt,Ct),bt);function bt(){var e=Ct.call(this)||this;return e.ver=2,e.exceptions=[],e.properties={},e.measurements={},e}var Nt,At=function(){this.hasFullStack=!0,this.parsedStack=[]};Nt=_t,__extends(Mt,Nt),Mt.CreateFromInterface=function(t,e){var n=e.exceptions&&J.arrMap(e.exceptions,function(e){return wt.CreateFromInterface(t,e)});return new Mt(t,__assign({},e,{exceptions:n}))},Mt.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,a=(e.ver,e.problemGroup),o=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&J.arrMap(t,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:n,measurements:r,problemGroup:a,id:o,isManual:s}},Mt.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},Mt.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",Mt.dataType="ExceptionData";function Mt(e,t,n,r,i,a){var o=Nt.call(this)||this;return o.aiDataContract={ver:g.Required,exceptions:g.Required,severityLevel:g.Default,properties:g.Default,measurements:g.Default},t instanceof Error?(o.exceptions=[new wt(e,t)],o.properties=Qe.sanitizeProperties(e,n),o.measurements=Qe.sanitizeMeasurements(e,r),i&&(o.severityLevel=i),a&&(o.id=a)):(o.exceptions=t.exceptions,o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),o.ver=2,J.isNullOrUndefined(t.isManual)||(o.isManual=t.isManual)),o}var Dt,wt=(Dt=At,__extends(Et,Dt),Et.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&J.arrMap(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||undefined}},Et.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&J.arrMap(t.parsedStack,function(e){return Rt.CreateFromInterface(e)})||t.parsedStack;return new Et(e,__assign({},t,{parsedStack:n}))},Et.parseStack=function(e){if(J.isString(e)){for(var t=e.split("\n"),n=[],r=0,i=0,a=0;a<=t.length;a++){var o,s=t[a];Rt.regex.test(s)&&(i+=(o=new Rt(t[a],r++)).sizeInBytes,n.push(o))}if(32768<i)for(var u=0,l=n.length-1,c=0,d=u,f=l;u<l;){if(32768<(c+=n[u].sizeInBytes+n[l].sizeInBytes)){var p=f-d+1;n.splice(d,p);break}d=u,f=l,u++,l--}}return n},Et);function Et(e,t){var n,r=Dt.call(this)||this;return r.aiDataContract={id:g.Default,outerId:g.Default,typeName:g.Required,message:g.Required,hasFullStack:g.Default,stack:g.Default,parsedStack:g.Array},t instanceof Error?(r.typeName=Qe.sanitizeString(e,t.name)||et.NotSpecified,r.message=Qe.sanitizeMessage(e,t.message)||et.NotSpecified,n=t.stack,r.parsedStack=Et.parseStack(n),r.stack=Qe.sanitizeException(e,n),r.hasFullStack=et.isArray(r.parsedStack)&&0<r.parsedStack.length):(r.typeName=t.typeName,r.message=t.message,r.stack=t.stack,r.parsedStack=t.parsedStack,r.hasFullStack=t.hasFullStack),r}var Lt,Rt=(Lt=Tt,__extends(qt,Lt),qt.CreateFromInterface=function(e){return new qt(e,null)},qt.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},qt.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,qt.baseSize=58,qt);function qt(e,t){var n,r,i=Lt.call(this)||this;return i.sizeInBytes=0,i.aiDataContract={level:g.Required,method:g.Required,assembly:g.Default,fileName:g.Default,line:g.Default},"string"==typeof e?(n=e,i.level=t,i.method="<no_method>",i.assembly=et.trim(n),i.fileName="",i.line=0,(r=n.match(qt.regex))&&5<=r.length&&(i.method=et.trim(r[2])||i.method,i.fileName=et.trim(r[4]),i.line=parseInt(r[5])||0)):(i.level=e.level,i.method=e.method,i.assembly=e.assembly,i.fileName=e.fileName,i.line=e.line,i.sizeInBytes=0),i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=qt.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}var kt,Ft,Ht,Ot=(kt=vt,__extends(Ut,kt),Ut);function Ut(){var e=kt.call(this)||this;return e.ver=2,e.metrics=[],e.properties={},e.measurements={},e}(Ht=Ft=Ft||{})[Ht.Measurement=0]="Measurement",Ht[Ht.Aggregation=1]="Aggregation";var jt,Pt=(jt=function(){this.kind=Ft.Measurement},__extends(zt,jt),zt);function zt(){var e=null!==jt&&jt.apply(this,arguments)||this;return e.aiDataContract={name:g.Required,kind:g.Default,value:g.Required,count:g.Default,min:g.Default,max:g.Default,stdDev:g.Default},e}var Gt;Gt=Ot,__extends(Bt,Gt),Bt.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Bt.dataType="MetricData";function Bt(e,t,n,r,i,a,o,s){var u=Gt.call(this)||this;u.aiDataContract={ver:g.Required,metrics:g.Required,properties:g.Default};var l=new Pt;return l.count=0<r?r:undefined,l.max=isNaN(a)||null===a?undefined:a,l.min=isNaN(i)||null===i?undefined:i,l.name=Qe.sanitizeString(e,t)||et.NotSpecified,l.value=n,u.metrics=[l],u.properties=Qe.sanitizeProperties(e,o),u.measurements=Qe.sanitizeMeasurements(e,s),u}var Wt,Xt=(Wt=xt,__extends(Vt,Wt),Vt);function Vt(){var e=Wt.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Kt;Kt=Xt,__extends(Qt,Kt),Qt.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Qt.dataType="PageviewData";function Qt(e,t,n,r,i,a,o){var s=Kt.call(this)||this;return s.aiDataContract={ver:g.Required,name:g.Default,url:g.Default,duration:g.Default,properties:g.Default,measurements:g.Default,id:g.Default},s.id=Qe.sanitizeId(e,o),s.url=Qe.sanitizeUrl(e,n),s.name=Qe.sanitizeString(e,t)||et.NotSpecified,isNaN(r)||(s.duration=et.msToTimeSpan(r)),s.properties=Qe.sanitizeProperties(e,i),s.measurements=Qe.sanitizeMeasurements(e,a),s}var $t,Jt=($t=vt,__extends(Yt,$t),Yt);function Yt(){var e=$t.call(this)||this;return e.ver=2,e.success=!0,e.properties={},e.measurements={},e}var Zt,en=(Zt=Jt,__extends(tn,Zt),tn.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",tn.dataType="RemoteDependencyData",tn);function tn(e,t,n,r,i,a,o,s,u,l,c,d){void 0===u&&(u="Ajax");var f=Zt.call(this)||this;f.aiDataContract={id:g.Required,ver:g.Required,name:g.Default,resultCode:g.Default,duration:g.Default,success:g.Default,data:g.Default,target:g.Default,type:g.Default,properties:g.Default,measurements:g.Default,kind:g.Default,value:g.Default,count:g.Default,min:g.Default,max:g.Default,stdDev:g.Default,dependencyKind:g.Default,dependencySource:g.Default,commandName:g.Default,dependencyTypeName:g.Default},f.id=t,f.duration=et.msToTimeSpan(i),f.success=a,f.resultCode=o+"",f.type=Qe.sanitizeString(e,u);var p=ot.ParseDependencyPath(e,n,s,r);return f.data=Qe.sanitizeUrl(e,r)||p.data,f.target=Qe.sanitizeString(e,p.target),l&&(f.target=f.target+" | "+l),f.name=Qe.sanitizeString(e,p.name),f.properties=Qe.sanitizeProperties(e,c),f.measurements=Qe.sanitizeMeasurements(e,d),f}var nn,rn=(nn=vt,__extends(an,nn),an);function an(){var e=nn.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var on;on=rn,__extends(sn,on),sn.envelopeType="Microsoft.ApplicationInsights.{0}.Message",sn.dataType="MessageData";function sn(e,t,n,r,i){var a=on.call(this)||this;return a.aiDataContract={ver:g.Required,message:g.Required,severityLevel:g.Default,properties:g.Default},t=t||et.NotSpecified,a.message=Qe.sanitizeMessage(e,t),a.properties=Qe.sanitizeProperties(e,r),a.measurements=Qe.sanitizeMeasurements(e,i),n&&(a.severityLevel=n),a}var un,ln=(un=Xt,__extends(cn,un),cn);function cn(){var e=un.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var dn;dn=ln,__extends(fn,dn),fn.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",fn.dataType="PageviewPerformanceData";function fn(e,t,n,r,i,a,o){var s=dn.call(this)||this;return s.aiDataContract={ver:g.Required,name:g.Default,url:g.Default,duration:g.Default,perfTotal:g.Default,networkConnect:g.Default,sentRequest:g.Default,receivedResponse:g.Default,domProcessing:g.Default,properties:g.Default,measurements:g.Default},s.url=Qe.sanitizeUrl(e,n),s.name=Qe.sanitizeString(e,t)||et.NotSpecified,s.properties=Qe.sanitizeProperties(e,i),s.measurements=Qe.sanitizeMeasurements(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}var pn,gn,hn;pn=ft,__extends(mn,pn);function mn(e,t){var n=pn.call(this)||this;return n.aiDataContract={baseType:g.Required,baseData:g.Required},n.baseType=e,n.baseData=t,n}(hn=gn=gn||{})[hn.Verbose=0]="Verbose",hn[hn.Information=1]="Information",hn[hn.Warning=2]="Warning",hn[hn.Error=3]="Error",hn[hn.Critical=4]="Critical";var vn=(xn.create=function(e,t,n,r,i,a){if(n=Qe.sanitizeString(r,n)||et.NotSpecified,J.isNullOrUndefined(e)||J.isNullOrUndefined(t)||J.isNullOrUndefined(n))throw Error("Input doesn't contain all required fields");var o={name:n,time:J.toISOString(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:t,baseData:e};if(!J.isNullOrUndefined(i))for(var s in i)i.hasOwnProperty(s)&&(o.data[s]=i[s]);return o},xn);function xn(){}var yn="AppInsightsPropertiesPlugin",Sn="constructor",In="prototype",Cn="function",Tn="_dynInstFuncs",_n="_isDynProxy",bn="_dynClass",Nn="_dynCls$",An="_unknown_",Mn="__proto__",Dn=Object.getPrototypeOf,wn=0;function En(e,t){return e&&Object[In].hasOwnProperty.call(e,t)}function Ln(e){return typeof e===Cn}function Rn(e){return e&&(e===Object[In]||e===Array[In])}function qn(e){return Rn(e)||e===Function[In]}function kn(e){if(e){if(Dn)return Dn(e);var t=e[Mn]||e[In]||e[Sn];if(t)return t}return null}function Fn(e,t,n){return t!==Sn&&Ln(e[t])&&(n||En(e,t))}function Hn(e){throw new TypeError("DynamicProto: "+e)}function On(e,t,n){function r(e,t){return function(){return t.apply(e,arguments)}}var i={};for(var a in n)i[a]=r(t,n[a]);for(var o=kn(e),s=[];o&&!qn(o)&&!function(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}(s,o);){for(var a in o)!i[a]&&Fn(o,a,!Dn)&&(i[a]=r(t,o[a]));s.push(o),o=kn(o)}return i}function Un(e,t,n,r){if(!Rn(e)){var i=n[Tn]=n[Tn]||{},a=i[t]=i[t]||{};for(var o in n)Fn(n,o,!1)&&n[o]!==r[o]&&(a[o]=n[o],delete n[o],En(e,o)&&(!e[o]||e[o][_n])||(e[o]=function(n,r){var i=function(){if(this&&En(n,bn)){var e=((this[Tn]||{})[n[bn]]||{})[r];if(e)return e.apply(this,arguments);Hn("Missing ["+r+"] "+Cn)}var t=n[r];return t===i&&(t=kn(n)[r]),Ln(t)||Hn("["+r+"] is not a "+Cn),t.apply(this,arguments)};return i[_n]=1,i}(e,o)))}}function jn(e,t){return En(e,In)?e.name||t||An:((e||{})[Sn]||{}).name||t||An}function Pn(e,t,n){En(e,In)||Hn("theClass is an invalid class definition.");var r=e[In];!function(e,t){for(var n=kn(t);n&&!qn(n);){if(n===e)return 1;n=kn(n)}}(r,t)&&Hn("["+jn(e)+"] is not in class heirarchy of ["+jn(t)+"]");var i=null;En(r,bn)?i=r[bn]:(i=Nn+jn(e,"_")+"$"+wn,wn++,r[bn]=i);var a=function(e){var t={};for(var n in e)!t[n]&&Fn(e,n,!1)&&(t[n]=e[n]);return t}(t);n(t,On(r,t,a)),Un(r,i,t,a)}var zn="properties",Gn=J.objKeys,Bn=J.arrForEach;function Wn(e,t,n){var r=0,i=e[t],a=e[n];return i&&a&&(r=ut.GetDuration(i,a)),r}function Xn(e,t,n,r,i){var a=0,o=Wn(n,r,i);return o&&(a=Vn(e,t,et.msToTimeSpan(o))),a}function Vn(e,t,n){var r="ajaxPerf",i=0;return e&&t&&n&&((e[r]=e[r]||{})[t]=n,i=1),i}function Kn(e,t){var n,r,s,i=e.perfTiming,a=t[zn]||{},o=0,u=J.isString,l="Start",c="End",d="domainLookup",f="connect",p="redirect",g="request",h="response",m="duration",v="startTime",x=f+c,y=g+l,S=h+c,I=p+l,C=(p=c,"transferSize"),T="encodedBodySize",_="decodedBodySize",b="serverTiming";i?(o|=Xn(a,p,i,I,"End"),o|=Xn(a,d,i,"domainLookupStart","domainLookupEnd"),o|=Xn(a,f,i,"connectStart",x),o|=Xn(a,g,i,y,"requestEnd"),o|=Xn(a,h,i,"responseStart",S),o|=Xn(a,"networkConnect",i,v,x),o|=Xn(a,"sentRequest",i,y,S),o|=Vn(a,m,n=(n=i[m])||(Wn(i,v,S)||0)),o|=Vn(a,"perfTotal",n),(r=i[b])&&(s={},Bn(r,function(n,e){var t,r,i,a=(t=n.name||""+e,(i=/([^\w\d_$])/g).test(r=t)&&(r=t.replace(i,"_")),r),o=s[a]||{};Bn(Gn(n),function(e){var t=n[e];("name"!==e&&u(t)||J.isNumber(t))&&(o[e]&&(t=o[e]+";"+t),!t&&u(t)||(o[e]=t))}),s[a]=o}),o|=Vn(a,b,s)),o|=Vn(a,C,i[C]),o|=Vn(a,T,i[T]),o|=Vn(a,_,i[_])):e.perfMark&&(o|=Vn(a,"missing",e.perfAttempts)),o&&(t[zn]=a)}var Qn=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},$n=function vr(e,t,n){var r=this,i=n,l="responseText";r.perfMark=null,r.completed=!1,r.requestHeadersSize=null,r.requestHeaders=null,r.responseReceivingDuration=null,r.callbackDuration=null,r.ajaxTotalDuration=null,r.aborted=0,r.pageUrl=null,r.requestUrl=null,r.requestSize=0,r.method=null,r.status=null,r.requestSentTime=null,r.responseStartedTime=null,r.responseFinishedTime=null,r.callbackFinishedTime=null,r.endTime=null,r.xhrMonitoringState=new Qn,r.clientFailure=0,r.traceID=e,r.spanID=t,Pn(vr,r,function(u){u.getAbsoluteUrl=function(){return u.requestUrl?nt.getAbsoluteUrl(u.requestUrl):null},u.getPathName=function(){return u.requestUrl?Qe.sanitizeUrl(i,nt.getCompleteUrl(u.method,u.requestUrl)):null},u.CreateTrackItem=function(e,t,n){if(u.ajaxTotalDuration=Math.round(1e3*ut.GetDuration(u.requestSentTime,u.responseFinishedTime))/1e3,u.ajaxTotalDuration<0)return null;var r,i,a,o,s=((o={id:"|"+u.traceID+"."+u.spanID,target:u.getAbsoluteUrl(),name:u.getPathName(),type:e,duration:u.ajaxTotalDuration,success:200<=+u.status&&+u.status<400,responseCode:+u.status,method:u.method})[zn]={HttpMethod:u.method},o);return Kn(u,s),t&&0<Gn(u.requestHeaders).length&&(s[zn]=s[zn]||{},s[zn].requestHeaders=u.requestHeaders),!n||(r=n())&&((i=r.correlationContext)&&(s.correlationContext=i),r.headerMap&&0<Gn(r.headerMap).length&&(s[zn]=s[zn]||{},s[zn].responseHeaders=r.headerMap),400<=u.status&&(a=r.type,s[zn]=s[zn]||{},""!==a&&"text"!==a||(s[zn][l]=r[l]?r.statusText+" - "+r[l]:r.statusText),"json"===a&&(s[zn][l]=r.response?r.statusText+" - "+JSON.stringify(r.response):r.statusText))),s}})},Jn=(Yn.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},Yn.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},Yn.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},Yn.DEFAULT_TRACE_FLAG="01",Yn.DEFAULT_VERSION="00",Yn);function Yn(e,t){var n=this;n.traceFlag=Yn.DEFAULT_TRACE_FLAG,n.version=Yn.DEFAULT_VERSION,e&&Yn.isValidTraceId(e)?n.traceId=e:n.traceId=et.generateW3CId(),t&&Yn.isValidSpanId(t)?n.spanId=t:n.spanId=et.generateW3CId().substr(0,16)}var Zn="ai.ajxmn.",er="diagLog",tr="ajaxData",nr="throwInternal",rr="fetch",ir=J.isNullOrUndefined,ar=J.arrForEach,or=J.objKeys,sr=0;function ur(e){var t="";try{ir(e)||ir(e[tr])||ir(e[tr].requestUrl)||(t+="(url: '"+e[tr].requestUrl+"')")}catch(n){}return t}function lr(e,t,n,r,i){e[er]()[nr](Z.CRITICAL,t,n,r,i)}function cr(e,t,n,r,i){e[er]()[nr](Z.WARNING,t,n,r,i)}function dr(t,n,r){return function(e){lr(t,n,r,{ajaxDiagnosticsMessage:ur(e.inst),exception:et.dump(e.err)})}}function fr(e,t){return e&&t?e.indexOf(t):-1}var pr,gr=(pr=me,__extends(hr,pr),hr.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,disableCorrelationHeaders:!1,distributedTracingMode:L.AI,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:undefined,appId:undefined,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25}},hr.getEmptyConfig=function(){var t=this.getDefaultConfig();return ar(or(t),function(e){t[e]=undefined}),t},hr.prototype.processTelemetry=function(e,t){this.processNext(e,t)},hr.identifier="AjaxDependencyPlugin",hr);function hr(){var e=pr.call(this)||this;e.identifier=hr.identifier,e.priority=120;var y,S,I,C,T="trackDependencyDataInternal",t=F(),_=!1,b=!1,u=t&&t.host&&t.host.toLowerCase(),N=hr.getEmptyConfig(),A=!1,i=0,M=!1,D=0,w=!1,E=[],s={};return Pn(hr,e,function(p,c){function d(e,t,n){var r,i,a;E.push((i=t,a=n,(r=e)?Xe(r[q],i,a,!1):null))}function g(e,t,n){var r=!1,i=((J.isString(t)?t:(t||{}).url||"")||"").toLowerCase(),a=fr(i,"?"),o=fr(i,"#");return(-1===a||-1!==o&&o<a)&&(a=o),-1!==a&&(i=i.substring(0,a)),ir(e)?ir(t)||(r="object"==typeof t&&!0===t[dt]||!!n&&!0===n[dt]):r=!0===e[dt]||!0===i[dt],r?s[i]||(s[i]=1):s[i]&&(r=!0),r}function h(e,t){var n=!0,r=b;return ir(e)||(n=!0===t||!ir(e[tr])),r&&n}function f(e,t){var n,r,i;t.requestUrl&&C&&M&&((n=H())&&J.isFunction(n.mark)&&(r=C+e+"#"+ ++sr,n.mark(r),(i=n.getEntriesByName(r))&&1===i.length&&(t.perfMark=i[0])))}function m(a,o,s,u){var l=o.perfMark,c=H(),d=N.maxAjaxPerfLookupAttempts,f=N.ajaxPerfLookupDelay,p=o.requestUrl,g=0;!function h(){try{if(c&&l){g++;for(var e=null,t=c.getEntries(),n=t.length-1;0<=n;n--){var r=t[n];if(r){if("resource"===r.entryType)r.initiatorType!==a||-1===fr(r.name,p)&&-1===fr(p,r.name)||(e=r);else if("mark"===r.entryType&&r.name===l.name){o.perfTiming=e;break}if(r.startTime<l.startTime-1e3)break}}}!l||o.perfTiming||d<=g||!1===o.async?(l&&J.isFunction(c.clearMarks)&&c.clearMarks(l.name),o.perfAttempts=g,s()):setTimeout(h,f)}catch(i){u(i)}}()}function v(e){var t="";try{ir(e)||(t+="string"==typeof e?"(url: '"+e+"')":"(url: '"+e.url+"')")}catch(n){lr(p,ie.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:et.dump(n)})}return t}function x(e,t,i,n,r){function a(e,t,n){var r=n||{};r.fetchDiagnosticsMessage=v(i),t&&(r.exception=et.dump(t)),cr(p,e,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",r)}n&&(n.responseFinishedTime=ut.Now(),n.status=t,m("fetch",n,function(){var e=n.CreateTrackItem("Fetch",A,r);e?p[T](e):a(ie.FailedMonitorAjaxDur,null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})},function(e){a(ie.FailedMonitorAjaxGetCorrelationHeader,e,null)}))}p.initialize=function(e,t,n,r){if(!p.isInitialized()){c.initialize(e,t,n,r);var i=p._getTelCtx(),a=hr.getDefaultConfig();ar(or(a),function(e){N[e]=i.getConfig(hr.identifier,e,a[e])});var o,s=N.distributedTracingMode;if(A=N.enableRequestHeaderTracking,M=N.enableAjaxPerfTracking,D=N.maxAjaxCallsPerView,w=N.enableResponseHeaderTracking,I=s===L.AI||s===L.AI_AND_W3C,S=s===L.AI_AND_W3C||s===L.W3C,M&&(o=e.instrumentationKey||"unkwn",C=5<o.length?Zn+o.substring(o.length-5)+".":Zn+o+"."),!1===N.disableAjaxTracking&&(!function(e){var t,n=!1;typeof XMLHttpRequest===R||ir(XMLHttpRequest)||(t=XMLHttpRequest[q],n=!(ir(t)||ir(t.open)||ir(t.send)||ir(t.abort)));var r=et.getIEVersion();if(r&&r<9&&(n=!1),n)try{(new XMLHttpRequest)[tr]={};var i=XMLHttpRequest[q].open;XMLHttpRequest[q].open=i}catch(a){n=!1,lr(e,ie.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:et.dump(a)})}return n}(p)||b||(d(XMLHttpRequest,"open",{req:function(e,t,n,r){var i,a,o,s,u,l,c,d=e.inst,f=d[tr];g(d,n)||!h(d,!0)||f&&f.xhrMonitoringState.openDone||(i=d,a=t,o=n,s=r,u=y&&y.telemetryTrace&&y.telemetryTrace.traceID||et.generateW3CId(),l=et.generateW3CId().substr(0,16),(c=new $n(u,l,p[er]())).method=a,c.requestUrl=o,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=s,i[tr]=c,function(a){a[tr].xhrMonitoringState.stateChangeAttached=ne.Attach(a,"readystatechange",function(){try{a&&4===a.readyState&&h(a)&&((i=(r=a)[tr]).responseFinishedTime=ut.Now(),i.status=r.status,m("xmlhttprequest",i,function(){try{var e=i.CreateTrackItem("Ajax",A,function(){var e,t,i,n={statusText:r.statusText,headerMap:null,correlationContext:function(e){try{var t=e.getAllResponseHeaders();if(null!==t)if(-1!==fr(t.toLowerCase(),Ve.requestContextHeaderLowerCase)){var n=e.getResponseHeader(Ve.requestContextHeader);return it.getCorrelationContext(n)}}catch(r){cr(p,ie.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:ur(e),exception:et.dump(r)})}}(r),type:r.responseType,responseText:function(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(n){}return null}(r),response:r.response};return!w||(e=r.getAllResponseHeaders())&&(t=J.strTrim(e).split(/[\r\n]+/),i={},ar(t,function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");i[n]=r}),n.headerMap=i),n});e?p[T](e):n(null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})}finally{try{r[tr]=null}catch(t){}}},function(e){n(e,null)}))}catch(t){var e=et.dump(t);e&&-1!==fr(e.toLowerCase(),"c00c023f")||lr(p,ie.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:ur(a),exception:e})}function n(e,t){var n=t||{};n.ajaxDiagnosticsMessage=ur(r),e&&(n.exception=et.dump(e)),cr(p,ie.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",n)}var r,i})}(i))},hkErr:dr(p,ie.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),d(XMLHttpRequest,"send",{req:function(e,t){var n=e.inst,r=n[tr];h(n)&&!r.xhrMonitoringState.sendDone&&(f("xhr",r),r.requestSentTime=ut.Now(),n=p.includeCorrelationHeaders(r,undefined,undefined,n),r.xhrMonitoringState.sendDone=!0)},hkErr:dr(p,ie.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),d(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t[tr];h(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:dr(p,ie.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),A&&d(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;h(r)&&(r[tr].requestHeaders[t]=n)},hkErr:dr(p,ie.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),b=!0)),function(){var e=function(){var e=k();return!e||ir(e.Request)||ir(e.Request[q])||ir(e[rr])?null:e[rr]}();if(!e)return;var t=k(),o=e.polyfill;!1===N.disableFetchTracking?(E.push(Xe(t,rr,{req:function(e,t,n){var r,i,a;!_||g(null,t,n)||o&&b||(r=e.ctx(),i=function(e,t){var n=y&&y.telemetryTrace&&y.telemetryTrace.traceID||et.generateW3CId(),r=et.generateW3CId().substr(0,16),i=new $n(n,r,p[er]());i.requestSentTime=ut.Now(),e instanceof Request?i.requestUrl=e?e.url:"":i.requestUrl=e;var a="GET";t&&t.method?a=t.method:e&&e instanceof Request&&(a=e.method);i.method=a;var o={};{A&&new Headers((t?t.headers:0)||e instanceof Request&&e.headers||{}).forEach(function(e,t){o[t]=e})}return i.requestHeaders=o,f("fetch",i),i}(t,n),(a=p.includeCorrelationHeaders(i,t,n))!==n&&e.set(1,a),r.data=i)},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then(function(t){return x(0,(t||{}).status,t,n,function(){var n,e={statusText:t.statusText,headerMap:null,correlationContext:function(e){if(e&&e.headers)try{var t=e.headers.get(Ve.requestContextHeader);return it.getCorrelationContext(t)}catch(n){cr(p,ie.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:v(e),exception:et.dump(n)})}}(t)};return w&&(n={},t.headers.forEach(function(e,t){n[t]=e}),e.headerMap=n),e}),t})["catch"](function(e){throw x(0,0,t,n,null,e.message),e}))},hkErr:dr(p,ie.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),_=!0):o&&E.push(Xe(t,rr,{req:function(e,t,n){g(null,t,n)}}));o&&(t[rr].polyfill=o)}(),0<n.length&&n){for(var u=void 0,l=0;!u&&l<n.length;)n[l]&&n[l].identifier===yn&&(u=n[l]),l++;u&&(y=u.context)}}},p.teardown=function(){ar(E,function(e){e.rm()}),b=_=!(E=[]),p.setInitialized(!1)},p.trackDependencyData=function(e,t){p[T](e,t)},p.includeCorrelationHeaders=function(e,t,n,r){var i,a,o,s=p._currentWindowHost||u;return t?(it.canIncludeCorrelationHeader(N,e.getAbsoluteUrl(),s)&&((n=n||{}).headers=new Headers(n.headers||t instanceof Request&&t.headers||{}),I&&(i="|"+e.traceID+"."+e.spanID,n.headers.set(Ve.requestIdHeader,i),A&&(e.requestHeaders[Ve.requestIdHeader]=i)),(a=N.appId||y&&y.appId())&&(n.headers.set(Ve.requestContextHeader,Ve.requestContextAppIdFormat+a),A&&(e.requestHeaders[Ve.requestContextHeader]=Ve.requestContextAppIdFormat+a)),S&&(o=new Jn(e.traceID,e.spanID),n.headers.set(Ve.traceParentHeader,o.toString()),A&&(e.requestHeaders[Ve.traceParentHeader]=o.toString()))),n):r?(it.canIncludeCorrelationHeader(N,e.getAbsoluteUrl(),s)&&(I&&(i="|"+e.traceID+"."+e.spanID,r.setRequestHeader(Ve.requestIdHeader,i),A&&(e.requestHeaders[Ve.requestIdHeader]=i)),(a=N.appId||y&&y.appId())&&(r.setRequestHeader(Ve.requestContextHeader,Ve.requestContextAppIdFormat+a),A&&(e.requestHeaders[Ve.requestContextHeader]=Ve.requestContextAppIdFormat+a)),S&&(o=new Jn(e.traceID,e.spanID),r.setRequestHeader(Ve.traceParentHeader,o.toString()),A&&(e.requestHeaders[Ve.traceParentHeader]=o.toString()))),r):undefined},p[T]=function(e,t,n){var r;-1===D||i<D?(N.distributedTracingMode!==L.W3C&&N.distributedTracingMode!==L.AI_AND_W3C||"string"!=typeof e.id||"."===e.id[e.id.length-1]||(e.id+="."),r=vn.create(e,en.dataType,en.envelopeType,p[er](),t,n),p.core.track(r)):i===D&&lr(p,ie.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0),++i}}),e}e.AjaxPlugin=gr,e.ajaxRecord=$n,function(e,t,n){var r=Object.defineProperty;if(r)try{return r(e,t,n)}catch(i){}typeof n.value!==undefined&&(e[t]=n.value)}(e,"__esModule",{value:!0})});
//# sourceMappingURL=applicationinsights-dependencies-js.min.js.map
