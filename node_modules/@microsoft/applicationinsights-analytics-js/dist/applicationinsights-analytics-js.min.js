/*!
 * Application Insights JavaScript SDK - Web Analytics, 2.5.5
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights={}))}(this,function(e){"use strict";var i="function",a="object",t="undefined",o="prototype",s="hasOwnProperty";function n(){return typeof globalThis!==t&&globalThis?globalThis:typeof self!==t&&self?self:typeof window!==t&&window?window:typeof global!==t&&global?global:null}function r(e){var t=Object.create;if(t)return t(e);if(null==e)return{};var n=typeof e;if(n!==a&&n!==i)throw new TypeError("Object prototype may only be an Object:"+e);function r(){}return r[o]=e,new r}function l(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object[o][s].call(t,i)&&(e[i]=t[i]);return e}var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[s](n)&&(e[n]=t[n])})(e,t)};var u,g,f,p,d,h,m,v,y=n()||{};g=function(e,t){function n(){this.constructor=e}c(e,t),e[o]=null===t?r(t):(n[o]=t[o],new n)},(u=y).__assign=u.__assign||Object.assign||l,u.__extends=u.__extends||g,__assign=y.__assign,__extends=y.__extends,(p=f=f||{})[p.LocalStorage=0]="LocalStorage",p[p.SessionStorage=1]="SessionStorage",(h=d=d||{})[h.Default=0]="Default",h[h.Required=1]="Required",h[h.Array=2]="Array",h[h.Hidden=4]="Hidden",(v=m=m||{})[v.AI=0]="AI",v[v.AI_AND_W3C=1]="AI_AND_W3C",v[v.W3C=2]="W3C";var S=2,T=a,_=o,x="window",I="document",w="location",N="JSON",E="crypto",C=n;function b(e){var t=C();return t&&t[e]?t[e]:e===x&&k()?window:null}function k(){return Boolean(typeof window===T&&window)}function D(){return k()?window:b(x)}function P(){return Boolean(typeof document===T&&document)?document:b(I)}function L(){return Boolean(typeof navigator===T&&navigator)?navigator:b("navigator")}function A(){return Boolean(typeof history===T&&history)?history:b("history")}function M(){return typeof location===T&&location?location:b(w)}function R(){return b("performance")}function O(){return Boolean(typeof JSON===T&&JSON||null!==b(N))}function U(){return O()?JSON||b(N):null}var z="attachEvent",V="addEventListener",F="detachEvent",G="removeEventListener";function B(e,t){return typeof e===t}function j(e){return B(e,t)||e===undefined}function q(e){return j(e)||null===e}function W(e,t){return e&&Object[o].hasOwnProperty.call(e,t)}function H(e){return B(e,a)}function X(e){return B(e,i)}function K(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!q(e))try{q(e[V])?q(e[z])||(e[z]("on"+t,n),i=!0):(e[V](t,n,r),i=!0)}catch(a){}return i}function Q(e,t,n,r){if(void 0===r&&(r=!1),!q(e))try{q(e[G])?q(e[F])||e[F]("on"+t,n):e[G](t,n,r)}catch(i){}}var J=($.isDate=function(e){return"[object Date]"===Object[o].toString.call(e)},$.isString=function(e){return B(e,"string")},$.isNumber=function(e){return B(e,"number")},$.isBoolean=function(e){return B(e,"boolean")},$.disableCookies=function(){$._canUseCookies=!1},$.newGuid=function(){function n(){var e=b(E);return e?e.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(ee,function(e){var t=0|n();return("x"===e?t:3&t|8).toString(16)})},$.toISOString=function(e){if($.isDate(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},$.arrForEach=function(e,t,n){for(var r=e.length,i=0;i<r;++i)i in e&&t.call(n||e,e[i],i,e)},$.arrIndexOf=function(e,t,n){for(var r=e.length,i=n||0,a=Math.max(0<=i?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===t)return a;return-1},$.arrMap=function(e,t,n){for(var r=e.length,i=n||e,a=new Array(r),o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e));return a},$.arrReduce=function(e,t,n){var r,i=e.length,a=0;if(3<=arguments.length)r=n;else{for(;a<i&&!(a in e);)a++;r=e[a++]}for(;a<i;)a in e&&(r=t(r,e[a],a,e)),a++;return r},$.strTrim=function(e){return $.isString(e)?e.replace(/^\s+|\s+$/g,""):e},$.objKeys=function(e){var t=!{toString:null}.propertyIsEnumerable("toString");if(!(X(e)||H(e)&&null!==e))throw new TypeError("objKeys called on non-object");var n=[];for(var r in e)W(e,r)&&n.push(r);if(t)for(var i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=i.length,o=0;o<a;o++)W(e,i[o])&&n.push(i[o]);return n},$.objDefineAccessors=function(e,t,n,r){var i=Object.defineProperty;if(i)try{var a={enumerable:!0,configurable:!0};return n&&(a.get=n),r&&(a.set=r),i(e,t,a),!0}catch(o){}return!1},$.addEventHandler=function(e,t){var n=!1,r=D();r&&(n=K(r,e,t),n=K(r.body,e,t)||n);var i=P();return i&&(n=te.Attach(i,e,t)||n),n},$.isTypeof=B,$.isUndefined=j,$.isNullOrUndefined=q,$.hasOwnProperty=W,$.isFunction=X,$.isObject=H,$.objCreate=r,$);function $(){}var Y,Z,ee=/[xy]/g,te=(ne.Attach=K,ne.AttachEvent=K,ne.Detach=Q,ne.DetachEvent=Q,ne);function ne(){}(Z=Y=Y||{})[Z.CRITICAL=1]="CRITICAL",Z[Z.WARNING=2]="WARNING";var re={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99},ie=(ae.sanitizeDiagnosticText=function(e){return e?'"'+e.replace(/\"/g,"")+'"':""},ae.dataType="MessageData",ae.AiNonUserActionablePrefix="AI (Internal): ",ae.AiUserActionablePrefix="AI: ",ae);function ae(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?ae.AiUserActionablePrefix:ae.AiNonUserActionablePrefix)+e;var i="";O()&&(i=U().stringify(r));var a=(t?" message:"+ae.sanitizeDiagnosticText(t):"")+(r?" props:"+ae.sanitizeDiagnosticText(i):"");this.message+=a}var oe=(se.prototype.throwInternal=function(e,t,n,r,i){void 0===i&&(i=!1);var a,o=new ie(t,n,i,r),s=this;if(s.enableDebugExceptions())throw o;!J.isUndefined(o)&&o&&(J.isUndefined(o.message)||(i?(a=+o.messageId,!s._messageLogged[a]&&s.consoleLoggingLevel()>=Y.WARNING&&(s.warnToConsole(o.message),s._messageLogged[a]=!0)):s.consoleLoggingLevel()>=Y.WARNING&&s.warnToConsole(o.message),s.logInternalMessage(e,o)))},se.prototype.warnToConsole=function(e){!J.isUndefined(console)&&console&&(J.isFunction(console.warn)?console.warn(e):J.isFunction(console.log)&&console.log(e))},se.prototype.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},se.prototype.logInternalMessage=function(e,t){var n,r,i,a,o=this;o._areInternalMessagesThrottled()||(n=!0,r=o.AIInternalMessagePrefix+t.messageId,o._messageLogged[r]?n=!1:o._messageLogged[r]=!0,n&&(e<=o.telemetryLoggingLevel()&&(o.queue.push(t),o._messageCount++),o._messageCount===o.maxInternalMessageLimit()&&(i="Internal events throttle limit per PageView reached for this app.",a=new ie(re.MessageLimitPerPVExceeded,i,!1),o.queue.push(a),o.warnToConsole(i))))},se.prototype._areInternalMessagesThrottled=function(){return this._messageCount>=this.maxInternalMessageLimit()},se);function se(e){this.queue=[],this.AIInternalMessagePrefix="AITR_",this._messageCount=0,this._messageLogged={},this.enableDebugExceptions=function(){return!1},this.consoleLoggingLevel=function(){return 0},this.telemetryLoggingLevel=function(){return 1},this.maxInternalMessageLimit=function(){return 25},J.isNullOrUndefined(e)||(J.isNullOrUndefined(e.loggingLevelConsole)||(this.consoleLoggingLevel=function(){return e.loggingLevelConsole}),J.isNullOrUndefined(e.loggingLevelTelemetry)||(this.telemetryLoggingLevel=function(){return e.loggingLevelTelemetry}),J.isNullOrUndefined(e.maxMessageLimit)||(this.maxInternalMessageLimit=function(){return e.maxMessageLimit}),J.isNullOrUndefined(e.enableDebugExceptions)||(this.enableDebugExceptions=function(){return e.enableDebugExceptions}))}var le=J.isFunction,ce=function(i,a){var o=this,s=null,l=le(i.processTelemetry),c=le(i.setNextPlugin);o._hasRun=!1,o.getPlugin=function(){return i},o.getNext=function(){return s},o.setNext=function(e){s=e},o.processTelemetry=function(e,t){if(t=t||a,i&&l){o._hasRun=!0;try{t.setNext(s),c&&i.setNextPlugin(s),s&&(s._hasRun=!1),i.processTelemetry(e,t)}catch(r){var n=s&&s._hasRun;s&&n||t.diagLog().throwInternal(Y.CRITICAL,re.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+r),s&&!n&&s.processTelemetry(e,t)}}else s&&(o._hasRun=!0,s.processTelemetry(e,t))}},ue=J.isNullOrUndefined;function ge(e,t){var n=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var a,o=e[i];o&&J.isFunction(o.processTelemetry)&&(a=new ce(o,t),n.push(a),r&&r.setNext(a),r=a)}return 0<n.length?n[0]:null}var fe=function Kn(e,a,n,t){var r,i,o,s,l,c=this,u=null;null!==t&&(e&&J.isFunction(e.getPlugin)?u=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();!i&&a!==n||(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),ge(r,t)}(e,c,t||e.getPlugin()):t?(i=c,s=r=e,l=!1,(o=t)&&r&&(s=[],J.arrForEach(r,function(e){!l&&e!==o||(l=!0,s.push(e))})),o&&!l&&(s=s||[]).push(o),u=ge(s,i)):J.isUndefined(t)&&(u=ge(e,c))),c.core=function(){return n},c.diagLog=function(){return(n||{}).logger||new oe(a||{})},c.getCfg=function(){return a},c.getExtCfg=function(e,t){var n,r;return void 0===t&&(t={}),!a||(r=a.extensionConfig)&&e&&(n=r[e]),n||t},c.getConfig=function(e,t,n){var r;void 0===n&&(n=!1);var i=c.getExtCfg(e,null);return i&&!ue(i[t])?r=i[t]:a&&!ue(a[t])&&(r=a[t]),ue(r)?n:r},c.hasNext=function(){return null!=u},c.getNext=function(){return u},c.setNext=function(e){u=e},c.processNext=function(e){var t=u;t&&(u=t.getNext(),t.processTelemetry(e,c))},c.createNew=function(e,t){return void 0===e&&(e=null),new Kn(e||u,a,n,t)}},pe=J.isFunction,de="getPlugin",he=(me.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},me);function me(){var a=this,o=!1,s=null,l=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){l=e},a.processNext=function(e,t){t?t.processNext(e):l&&pe(l.processTelemetry)&&l.processTelemetry(e,null)},a._getTelCtx=function(e){void 0===e&&(e=null);var t,n=e;return n||(t=s||new fe(null,{},a.core),n=l&&l[de]?t.createNew(null,l[de]):t.createNew(null,l)),n},a._baseTelInit=function(e,t,n,r){e&&(e.extensionConfig=e.extensionConfig||[]),!r&&t&&(r=t.getProcessTelContext().getNext());var i=l;l&&l[de]&&(i=l[de]()),a.core=t,s=new fe(r,e,t,i),o=!0}}var ve=J.isFunction,ye="processTelemetry",Se="priority",Te="setNextPlugin",_e="isInitialized";function xe(t,n){for(var e=[],r=null,i=t.getNext();i;){var a=i.getPlugin();a&&(r&&ve(r[Te])&&ve(a[ye])&&r[Te](a),ve(a[_e])&&a[_e]()||e.push(a),r=a,i=i.getNext())}J.arrForEach(e,function(e){e.initialize(t.getCfg(),t.core(),n,t.getNext())})}function Ie(e){return e.sort(function(e,t){var n=0,r=ve(t[ye]);return ve(e[ye])?n=r?e[Se]-t[Se]:1:r&&(n=-1),n})}var we=500,Ne="Channel has invalid priority",Ee=J.arrForEach,Ce=J.objDefineAccessors;function be(e,t){t&&0<t.length&&(t=t.sort(function(e,t){return e.priority-t.priority}),Ee(t,function(e){if(e.priority<we)throw Error(Ne+e.identifier)}),e.push(t))}var ke,De=(ke=he,__extends(Pe,ke),Pe.prototype.processTelemetry=function(t,n){var r=this;this._channelQueue&&Ee(this._channelQueue,function(e){0<e.length&&r._getTelCtx(n).createNew(e).processNext(t)})},Pe.prototype.getChannelControls=function(){return this._channelQueue},Pe.prototype.initialize=function(t,n,r){var e,i,a,o,s;this.isInitialized()||(ke.prototype.initialize.call(this,t,n,r),t.isCookieUseDisabled&&J.disableCookies(),e=this._channelQueue=(a=r,s=[],(i=(t||{}).channels)&&Ee(i,function(e){return be(s,e)}),a&&(o=[],Ee(a,function(e){e.priority>we&&o.push(e)}),be(s,o)),s),Ee(e,function(e){return xe(new fe(e,t,n),r)}))},Pe._staticInit=(Ce(Pe.prototype,"ChannelControls",Pe.prototype.getChannelControls),void Ce(Pe.prototype,"channelQueue",Pe.prototype.getChannelControls)),Pe);function Pe(){var e=null!==ke&&ke.apply(this,arguments)||this;return e.identifier="ChannelControllerPlugin",e.priority=we,e}var Le=J.arrForEach,Ae=J.isNullOrUndefined,Me=(Re.prototype.initialize=function(e,t,r,n){var i=this;if(i.isInitialized())throw Error("Core should not be initialized more than once");if(!e||Ae(e.instrumentationKey))throw Error("Please provide instrumentation key");i.config=e;var a=i._channelController;n=n||J.objCreate({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),i._notificationManager=n,e.extensions=Ae(e.extensions)?[]:e.extensions,(e.extensionConfig=Ae(e.extensionConfig)?{}:e.extensionConfig).NotificationManager=n,r=r||J.objCreate({throwInternal:function(e,t,n,r,i){void 0===i&&(i=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),i.logger=r;var o=[];o.push.apply(o,t.concat(e.extensions)),o=Ie(o);var s=[],l={};if(Le(o,function(e){if(Ae(e)||Ae(e.initialize))throw Error("Extensions must provide callback to initialize");var t=e.priority,n=e.identifier;e&&t&&(Ae(l[t])?l[t]=n:r.warnToConsole("Two extensions have same priority #"+t+" - "+l[t]+", "+n)),(!t||t<a.priority)&&s.push(e)}),o.push(a),s.push(a),o=Ie(o),i._extensions=o,xe(new fe([a],e,i),o),xe(new fe(s,e,i),o),i._extensions=s,0===i.getTransmissionControls().length)throw new Error("No channels available");i._setInit(!0)},Re.prototype.getTransmissionControls=function(){return this._channelController.getChannelControls()},Re.prototype.track=function(e){var t=this;e.iKey||(e.iKey=t.config.instrumentationKey),e.time||(e.time=J.toISOString(new Date)),Ae(e.ver)&&(e.ver="4.0"),t.isInitialized()?(0<t._eventQueue.length&&(Le(t._eventQueue,function(e){t.getProcessTelContext().processNext(e)}),t._eventQueue=[]),t.getProcessTelContext().processNext(e)):t._eventQueue.push(e)},Re.prototype.getProcessTelContext=function(){var e=this._extensions,t=e;return e&&0!==e.length||(t=[this._channelController]),new fe(t,this.config,this)},Re);function Re(){var t=!1,e=this;e._extensions=new Array,e._channelController=new De,e.isInitialized=function(){return t},e._setInit=function(e){t=e},e._eventQueue=[]}var Oe=(Ue.prototype.addNotificationListener=function(e){this.listeners.push(e)},Ue.prototype.removeNotificationListener=function(e){for(var t=J.arrIndexOf(this.listeners,e);-1<t;)this.listeners.splice(t,1),t=J.arrIndexOf(this.listeners,e)},Ue.prototype.eventsSent=function(t){for(var n=this,r=this,e=0;e<this.listeners.length;++e)!function(e){r.listeners[e].eventsSent&&setTimeout(function(){return n.listeners[e].eventsSent(t)},0)}(e)},Ue.prototype.eventsDiscarded=function(t,n){for(var r=this,i=this,e=0;e<this.listeners.length;++e)!function(e){i.listeners[e].eventsDiscarded&&setTimeout(function(){return r.listeners[e].eventsDiscarded(t,n)},0)}(e)},Ue.prototype.eventsSendRequest=function(n,r){for(var i=this,a=this,e=0;e<this.listeners.length;++e)!function(e){if(a.listeners[e].eventsSendRequest)if(r)setTimeout(function(){return i.listeners[e].eventsSendRequest(n,r)},0);else try{a.listeners[e].eventsSendRequest(n,r)}catch(t){}}(e)},Ue);function Ue(){this.listeners=[]}var ze;ze=Me,__extends(Ve,ze),Ve.prototype.initialize=function(e,t){var n=this;n._notificationManager=new Oe,n.logger=new oe(e),n.config=e,ze.prototype.initialize.call(this,e,t,n.logger,n._notificationManager)},Ve.prototype.getTransmissionControls=function(){return ze.prototype.getTransmissionControls.call(this)},Ve.prototype.track=function(e){if(null===e)throw this._notifyInvalidEvent(e),Error("Invalid telemetry item");this._validateTelemetryItem(e),ze.prototype.track.call(this,e)},Ve.prototype.addNotificationListener=function(e){this._notificationManager&&this._notificationManager.addNotificationListener(e)},Ve.prototype.removeNotificationListener=function(e){this._notificationManager&&this._notificationManager.removeNotificationListener(e)},Ve.prototype.pollInternalLogs=function(r){var t=this,e=this.config.diagnosticLogInterval;return e&&0<e||(e=1e4),setInterval(function(){var n=t,e=n.logger?n.logger.queue:[];J.arrForEach(e,function(e){var t={name:r||"InternalMessageId: "+e.messageId,iKey:n.config.instrumentationKey,time:J.toISOString(new Date),baseType:ie.dataType,baseData:{message:e.message}};n.track(t)}),e.length=0},e)},Ve.prototype._validateTelemetryItem=function(e){if(J.isNullOrUndefined(e.name))throw this._notifyInvalidEvent(e),Error("telemetry name required")},Ve.prototype._notifyInvalidEvent=function(e){this._notificationManager&&this._notificationManager.eventsDiscarded([e],S)};function Ve(){return ze.call(this)||this}var Fe=(Ge.sanitizeKeyAndAddUniqueness=function(e,t,n){var r=t.length,i=Ge.sanitizeKey(e,t);if(i.length!==r){for(var a=0,o=i;n[o]!==undefined;)a++,o=i.substring(0,Ge.MAX_NAME_LENGTH-3)+Ge.padNumber(a);i=o}return i},Ge.sanitizeKey=function(e,t){var n;return t&&(t=Ge.trim(t.toString())).length>Ge.MAX_NAME_LENGTH&&(n=t.substring(0,Ge.MAX_NAME_LENGTH),e.throwInternal(Y.WARNING,re.NameTooLong,"name is too long.  It has been truncated to "+Ge.MAX_NAME_LENGTH+" characters.",{name:t},!0)),n||t},Ge.sanitizeString=function(e,t,n){var r;return void 0===n&&(n=Ge.MAX_STRING_LENGTH),t&&(n=n||Ge.MAX_STRING_LENGTH,(t=Ge.trim(t)).toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(Y.WARNING,re.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t},Ge.sanitizeUrl=function(e,t){return Ge.sanitizeInput(e,t,Ge.MAX_URL_LENGTH,re.UrlTooLong)},Ge.sanitizeMessage=function(e,t){var n;return t&&t.length>Ge.MAX_MESSAGE_LENGTH&&(n=t.substring(0,Ge.MAX_MESSAGE_LENGTH),e.throwInternal(Y.WARNING,re.MessageTruncated,"message is too long, it has been truncated to "+Ge.MAX_MESSAGE_LENGTH+" characters.",{message:t},!0)),n||t},Ge.sanitizeException=function(e,t){var n;return t&&t.length>Ge.MAX_EXCEPTION_LENGTH&&(n=t.substring(0,Ge.MAX_EXCEPTION_LENGTH),e.throwInternal(Y.WARNING,re.ExceptionTruncated,"exception is too long, it has been truncated to "+Ge.MAX_EXCEPTION_LENGTH+" characters.",{exception:t},!0)),n||t},Ge.sanitizeProperties=function(e,t){if(t){var n={};for(var r in t){var i=t[r];if(J.isObject(i)&&O())try{i=U().stringify(i)}catch(a){e.throwInternal(Y.WARNING,re.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=Ge.sanitizeString(e,i,Ge.MAX_PROPERTY_LENGTH),n[r=Ge.sanitizeKeyAndAddUniqueness(e,r,n)]=i}t=n}return t},Ge.sanitizeMeasurements=function(e,t){if(t){var n={};for(var r in t){var i=t[r];n[r=Ge.sanitizeKeyAndAddUniqueness(e,r,n)]=i}t=n}return t},Ge.sanitizeId=function(e,t){return t?Ge.sanitizeInput(e,t,Ge.MAX_ID_LENGTH,re.IdTooLong).toString():t},Ge.sanitizeInput=function(e,t,n,r){var i;return t&&(t=Ge.trim(t)).length>n&&(i=t.substring(0,n),e.throwInternal(Y.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t},Ge.padNumber=function(e){var t="00"+e;return t.substr(t.length-3)},Ge.trim=function(e){return J.isString(e)?e.replace(/^\s+|\s+$/g,""):e},Ge.MAX_NAME_LENGTH=150,Ge.MAX_ID_LENGTH=128,Ge.MAX_PROPERTY_LENGTH=8192,Ge.MAX_STRING_LENGTH=1024,Ge.MAX_URL_LENGTH=2048,Ge.MAX_MESSAGE_LENGTH=32768,Ge.MAX_EXCEPTION_LENGTH=32768,Ge);function Ge(){}var Be=L(),je=J.isString,qe=null;var We=(He.createDomEvent=function(e){var t,n=null;return J.isFunction(Event)?n=new Event(e):(t=P())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n},He.disableStorage=function(){He._canUseLocalStorage=!1,He._canUseSessionStorage=!1},He._getLocalStorageObject=function(){return He.canUseLocalStorage()?He._getVerifiedStorageObject(f.LocalStorage):null},He._getVerifiedStorageObject=function(e){var t,n,r=null;try{if(J.isNullOrUndefined(C()))return null;n=new Date,(r=e===f.LocalStorage?b("localStorage"):b("sessionStorage")).setItem(n.toString(),n.toString()),t=r.getItem(n.toString())!==n.toString(),r.removeItem(n.toString()),t&&(r=null)}catch(i){r=null}return r},He.isInternalApplicationInsightsEndpoint=function(e){return-1!==He._internalEndpoints.indexOf(e.toLowerCase())},He.canUseLocalStorage=function(){return He._canUseLocalStorage===undefined&&(He._canUseLocalStorage=!!He._getVerifiedStorageObject(f.LocalStorage)),He._canUseLocalStorage},He.getStorage=function(e,t){var n=He._getLocalStorageObject();if(null!==n)try{return n.getItem(t)}catch(r){He._canUseLocalStorage=!1,e.throwInternal(Y.WARNING,re.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+He.getExceptionName(r),{exception:He.dump(r)})}return null},He.setStorage=function(e,t,n){var r=He._getLocalStorageObject();if(null!==r)try{return r.setItem(t,n),!0}catch(i){He._canUseLocalStorage=!1,e.throwInternal(Y.WARNING,re.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+He.getExceptionName(i),{exception:He.dump(i)})}return!1},He.removeStorage=function(e,t){var n=He._getLocalStorageObject();if(null!==n)try{return n.removeItem(t),!0}catch(r){He._canUseLocalStorage=!1,e.throwInternal(Y.WARNING,re.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+He.getExceptionName(r),{exception:He.dump(r)})}return!1},He._getSessionStorageObject=function(){return He.canUseSessionStorage()?He._getVerifiedStorageObject(f.SessionStorage):null},He.canUseSessionStorage=function(){return He._canUseSessionStorage===undefined&&(He._canUseSessionStorage=!!He._getVerifiedStorageObject(f.SessionStorage)),He._canUseSessionStorage},He.getSessionStorageKeys=function(){var e=[];if(He.canUseSessionStorage())for(var t in b("sessionStorage"))e.push(t);return e},He.getSessionStorage=function(e,t){var n=He._getSessionStorageObject();if(null!==n)try{return n.getItem(t)}catch(r){He._canUseSessionStorage=!1,e.throwInternal(Y.WARNING,re.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+He.getExceptionName(r),{exception:He.dump(r)})}return null},He.setSessionStorage=function(e,t,n){var r=He._getSessionStorageObject();if(null!==r)try{return r.setItem(t,n),!0}catch(i){He._canUseSessionStorage=!1,e.throwInternal(Y.WARNING,re.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+He.getExceptionName(i),{exception:He.dump(i)})}return!1},He.removeSessionStorage=function(e,t){var n=He._getSessionStorageObject();if(null!==n)try{return n.removeItem(t),!0}catch(r){He._canUseSessionStorage=!1,e.throwInternal(Y.WARNING,re.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+He.getExceptionName(r),{exception:He.dump(r)})}return!1},He.disableCookies=function(){J.disableCookies()},He.canUseCookies=function(e){if(J._canUseCookies===undefined){J._canUseCookies=!1;try{J._canUseCookies=He.document.cookie!==undefined}catch(t){e.throwInternal(Y.WARNING,re.CannotAccessCookie,"Cannot access document.cookie - "+He.getExceptionName(t),{exception:He.dump(t)})}}return J._canUseCookies},He.disallowsSameSiteNone=function(e){return!!je(e)&&(-1!==e.indexOf("CPU iPhone OS 12")||-1!==e.indexOf("iPad; CPU OS 12")||-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&-1!==e.indexOf("Version/")&&-1!==e.indexOf("Safari")||-1!==e.indexOf("Macintosh; Intel Mac OS X 10_14")&&(n="AppleWebKit/605.1.15 (KHTML, like Gecko)",r=(t=e).length,i=r-n.length,t.substring(0<=i?i:0,r)===n)||-1!==e.indexOf("Chrome/5")||-1!==e.indexOf("Chrome/6")||-1!==e.indexOf("UnrealEngine")&&-1===e.indexOf("Chrome")||-1!==e.indexOf("UCBrowser/12")||-1!==e.indexOf("UCBrowser/11"));var t,n,r,i},He.setCookie=function(e,t,n,r){var i,a,o;He.canUseCookies(e)&&(a=i="",r&&(i=";domain="+r),(o=M())&&"https:"===o.protocol&&(a=";secure",null===qe&&(qe=He.disallowsSameSiteNone((L()||{}).userAgent)),qe||(n+=";SameSite=None")),He.document.cookie=t+"="+n+i+";path=/"+a)},He.stringToBoolOrDefault=function(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"===e.toString().toLowerCase()},He.getCookie=function(e,t){if(He.canUseCookies(e)){var n="";if(t&&t.length)for(var r=t+"=",i=He.document.cookie.split(";"),a=0;a<i.length;a++){var o=i[a];if((o=He.trim(o))&&0===o.indexOf(r)){n=o.substring(r.length,i[a].length);break}}return n}},He.deleteCookie=function(e,t){He.canUseCookies(e)&&(He.document.cookie=t+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},He.newId=function(){for(var e="",t=1073741824*Math.random();0<t;)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t%64),t=Math.floor(t/64);return e},He.random32=function(){return 4294967296*Math.random()|0},He.generateW3CId=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=He.random32())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+4*Math.random()|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)},He.isArray=function(e){return"[object Array]"===Object[_].toString.call(e)},He.isError=function(e){return"[object Error]"===Object[_].toString.call(e)},He.getIEVersion=function(e){void 0===e&&(e=null);var t=e?e.toLowerCase():Be?(Be.userAgent||"").toLowerCase():"";if(-1!==t.indexOf("msie"))return parseInt(t.split("msie")[1]);if(t.indexOf("trident/")){var n=parseInt(t.split("trident/")[1]);if(n)return n+4}return null},He.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,a=Math.floor(e/864e5),t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r;return(0<a?a+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t},He.isCrossOriginError=function(e,t,n,r,i){return("Script error."===e||"Script error"===e)&&!i},He.dump=function(e){var t=Object[_].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":O()&&(n=U().stringify(e)),t+n},He.getExceptionName=function(e){return"[object Error]"===Object[_].toString.call(e)?e.name:""},He.addEventHandler=function(e,t){return te.Attach(D(),e,t)},He.IsBeaconApiSupported=function(){return"sendBeacon"in Be&&Be.sendBeacon},He.getExtension=function(e,t){for(var n=null,r=0;!n&&r<e.length;)e[r]&&e[r].identifier===t&&(n=e[r]),r++;return n},He.document=P()||{},He._canUseLocalStorage=undefined,He._canUseSessionStorage=undefined,He._internalEndpoints=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],He.NotSpecified="not_specified",He.trim=J.strTrim,He.isDate=J.isDate,He.toISOStringForIE8=J.toISOString,He);function He(){}var Xe=(Ke.parseUrl=function(e){var t=Ke._htmlAnchorIdx,n=Ke._htmlAnchorElement,r=n[t];return Ke.document.createElement?n[t]||(r=n[t]=Ke.document.createElement("a")):r={host:Ke.parseHost(e,!0)},r.href=e,++t>=n.length&&(t=0),Ke._htmlAnchorIdx=t,r},Ke.getAbsoluteUrl=function(e){var t,n=Ke.parseUrl(e);return n&&(t=n.href),t},Ke.getPathName=function(e){var t,n=Ke.parseUrl(e);return n&&(t=n.pathname),t},Ke.getCompleteUrl=function(e,t){return e?e.toUpperCase()+" "+t:t},Ke.parseHost=function(e,t){var n=Ke.parseFullHost(e,t);if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&3<r.length&&je(r[2])&&0<r[2].length)return r[2]+(r[3]||"")}return n},Ke.parseFullHost=function(e,t){var n,r,i,a=null;return!e||null!=(n=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<n.length&&je(n[2])&&0<n[2].length&&(a=n[2]||"",t&&2<n.length&&(r=(n[1]||"").toLowerCase(),i=n[3]||"",("http"===r&&":80"===i||"https"===r&&":443"===i)&&(i=""),a+=i)),a},Ke.document=P()||{},Ke._htmlAnchorIdx=0,Ke._htmlAnchorElement=[null,null,null,null,null],Ke);function Ke(){}var Qe=(Je.ParseDependencyPath=function(e,t,n,r){var i,a,o,s=r,l=r;return s=t&&0<t.length?(o=(i=Xe.parseUrl(t)).host,s||(null!=i.pathname?("/"!==(a=0===i.pathname.length?"/":i.pathname).charAt(0)&&(a="/"+a),l=i.pathname,Fe.sanitizeString(e,n?n+" "+a:a)):Fe.sanitizeString(e,t))):o=r,{target:o,name:s,data:l}},Je);function Je(){}var $e=(Ye.Now=function(){var e=R();return e&&e.now&&e.timing?e.now()+e.timing.navigationStart:(new Date).getTime()},Ye.GetDuration=function(e,t){var n=null;return 0===e||0===t||J.isNullOrUndefined(e)||J.isNullOrUndefined(t)||(n=t-e),n},Ye);function Ye(){}var Ze,et=(Ze=function(){},__extends(tt,Ze),tt);function tt(){return Ze.call(this)||this}var nt;nt=function(){this.ver=1,this.sampleRate=100,this.tags={}},__extends(rt,nt);function rt(e,t,n){var r=nt.call(this)||this;return r.name=Fe.sanitizeString(e,n)||We.NotSpecified,r.data=t,r.time=J.toISOString(new Date),r.aiDataContract={time:d.Required,iKey:d.Required,name:d.Required,sampleRate:function(){return 100===r.sampleRate?d.Hidden:d.Required},tags:d.Required,data:d.Required},r}var it,at=function(){},ot=(it=at,__extends(st,it),st);function st(){var e=it.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var lt,ct=(lt=ot,__extends(ut,lt),ut.envelopeType="Microsoft.ApplicationInsights.{0}.Event",ut.dataType="EventData",ut);function ut(e,t,n,r){var i=lt.call(this)||this;return i.aiDataContract={ver:d.Required,name:d.Required,properties:d.Default,measurements:d.Default},i.name=Fe.sanitizeString(e,t)||We.NotSpecified,i.properties=Fe.sanitizeProperties(e,n),i.measurements=Fe.sanitizeMeasurements(e,r),i}var gt,ft=function(){},pt=(gt=at,__extends(dt,gt),dt);function dt(){var e=gt.call(this)||this;return e.ver=2,e.exceptions=[],e.properties={},e.measurements={},e}var ht,mt=function(){this.hasFullStack=!0,this.parsedStack=[]},vt=(ht=pt,__extends(yt,ht),yt.CreateFromInterface=function(t,e){var n=e.exceptions&&J.arrMap(e.exceptions,function(e){return Tt.CreateFromInterface(t,e)});return new yt(t,__assign({},e,{exceptions:n}))},yt.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,a=(e.ver,e.problemGroup),o=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&J.arrMap(t,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:n,measurements:r,problemGroup:a,id:o,isManual:s}},yt.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},yt.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",yt.dataType="ExceptionData",yt);function yt(e,t,n,r,i,a){var o=ht.call(this)||this;return o.aiDataContract={ver:d.Required,exceptions:d.Required,severityLevel:d.Default,properties:d.Default,measurements:d.Default},t instanceof Error?(o.exceptions=[new Tt(e,t)],o.properties=Fe.sanitizeProperties(e,n),o.measurements=Fe.sanitizeMeasurements(e,r),i&&(o.severityLevel=i),a&&(o.id=a)):(o.exceptions=t.exceptions,o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),o.ver=2,J.isNullOrUndefined(t.isManual)||(o.isManual=t.isManual)),o}var St,Tt=(St=mt,__extends(_t,St),_t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&J.arrMap(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||undefined}},_t.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&J.arrMap(t.parsedStack,function(e){return It.CreateFromInterface(e)})||t.parsedStack;return new _t(e,__assign({},t,{parsedStack:n}))},_t.parseStack=function(e){if(J.isString(e)){for(var t=e.split("\n"),n=[],r=0,i=0,a=0;a<=t.length;a++){var o,s=t[a];It.regex.test(s)&&(i+=(o=new It(t[a],r++)).sizeInBytes,n.push(o))}if(32768<i)for(var l=0,c=n.length-1,u=0,g=l,f=c;l<c;){if(32768<(u+=n[l].sizeInBytes+n[c].sizeInBytes)){var p=f-g+1;n.splice(g,p);break}g=l,f=c,l++,c--}}return n},_t);function _t(e,t){var n,r=St.call(this)||this;return r.aiDataContract={id:d.Default,outerId:d.Default,typeName:d.Required,message:d.Required,hasFullStack:d.Default,stack:d.Default,parsedStack:d.Array},t instanceof Error?(r.typeName=Fe.sanitizeString(e,t.name)||We.NotSpecified,r.message=Fe.sanitizeMessage(e,t.message)||We.NotSpecified,n=t.stack,r.parsedStack=_t.parseStack(n),r.stack=Fe.sanitizeException(e,n),r.hasFullStack=We.isArray(r.parsedStack)&&0<r.parsedStack.length):(r.typeName=t.typeName,r.message=t.message,r.stack=t.stack,r.parsedStack=t.parsedStack,r.hasFullStack=t.hasFullStack),r}var xt,It=(xt=ft,__extends(wt,xt),wt.CreateFromInterface=function(e){return new wt(e,null)},wt.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},wt.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,wt.baseSize=58,wt);function wt(e,t){var n,r,i=xt.call(this)||this;return i.sizeInBytes=0,i.aiDataContract={level:d.Required,method:d.Required,assembly:d.Default,fileName:d.Default,line:d.Default},"string"==typeof e?(n=e,i.level=t,i.method="<no_method>",i.assembly=We.trim(n),i.fileName="",i.line=0,(r=n.match(wt.regex))&&5<=r.length&&(i.method=We.trim(r[2])||i.method,i.fileName=We.trim(r[4]),i.line=parseInt(r[5])||0)):(i.level=e.level,i.method=e.method,i.assembly=e.assembly,i.fileName=e.fileName,i.line=e.line,i.sizeInBytes=0),i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=wt.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}var Nt,Et,Ct,bt=(Nt=at,__extends(kt,Nt),kt);function kt(){var e=Nt.call(this)||this;return e.ver=2,e.metrics=[],e.properties={},e.measurements={},e}(Ct=Et=Et||{})[Ct.Measurement=0]="Measurement",Ct[Ct.Aggregation=1]="Aggregation";var Dt,Pt=(Dt=function(){this.kind=Et.Measurement},__extends(Lt,Dt),Lt);function Lt(){var e=null!==Dt&&Dt.apply(this,arguments)||this;return e.aiDataContract={name:d.Required,kind:d.Default,value:d.Required,count:d.Default,min:d.Default,max:d.Default,stdDev:d.Default},e}var At,Mt=(At=bt,__extends(Rt,At),Rt.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",Rt.dataType="MetricData",Rt);function Rt(e,t,n,r,i,a,o,s){var l=At.call(this)||this;l.aiDataContract={ver:d.Required,metrics:d.Required,properties:d.Default};var c=new Pt;return c.count=0<r?r:undefined,c.max=isNaN(a)||null===a?undefined:a,c.min=isNaN(i)||null===i?undefined:i,c.name=Fe.sanitizeString(e,t)||We.NotSpecified,c.value=n,l.metrics=[c],l.properties=Fe.sanitizeProperties(e,o),l.measurements=Fe.sanitizeMeasurements(e,s),l}var Ot,Ut=(Ot=ot,__extends(zt,Ot),zt);function zt(){var e=Ot.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Vt,Ft=(Vt=Ut,__extends(Gt,Vt),Gt.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",Gt.dataType="PageviewData",Gt);function Gt(e,t,n,r,i,a,o){var s=Vt.call(this)||this;return s.aiDataContract={ver:d.Required,name:d.Default,url:d.Default,duration:d.Default,properties:d.Default,measurements:d.Default,id:d.Default},s.id=Fe.sanitizeId(e,o),s.url=Fe.sanitizeUrl(e,n),s.name=Fe.sanitizeString(e,t)||We.NotSpecified,isNaN(r)||(s.duration=We.msToTimeSpan(r)),s.properties=Fe.sanitizeProperties(e,i),s.measurements=Fe.sanitizeMeasurements(e,a),s}var Bt,jt=(Bt=at,__extends(qt,Bt),qt);function qt(){var e=Bt.call(this)||this;return e.ver=2,e.success=!0,e.properties={},e.measurements={},e}var Wt,Ht=(Wt=jt,__extends(Xt,Wt),Xt.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",Xt.dataType="RemoteDependencyData",Xt);function Xt(e,t,n,r,i,a,o,s,l,c,u,g){void 0===l&&(l="Ajax");var f=Wt.call(this)||this;f.aiDataContract={id:d.Required,ver:d.Required,name:d.Default,resultCode:d.Default,duration:d.Default,success:d.Default,data:d.Default,target:d.Default,type:d.Default,properties:d.Default,measurements:d.Default,kind:d.Default,value:d.Default,count:d.Default,min:d.Default,max:d.Default,stdDev:d.Default,dependencyKind:d.Default,dependencySource:d.Default,commandName:d.Default,dependencyTypeName:d.Default},f.id=t,f.duration=We.msToTimeSpan(i),f.success=a,f.resultCode=o+"",f.type=Fe.sanitizeString(e,l);var p=Qe.ParseDependencyPath(e,n,s,r);return f.data=Fe.sanitizeUrl(e,r)||p.data,f.target=Fe.sanitizeString(e,p.target),c&&(f.target=f.target+" | "+c),f.name=Fe.sanitizeString(e,p.name),f.properties=Fe.sanitizeProperties(e,u),f.measurements=Fe.sanitizeMeasurements(e,g),f}var Kt,Qt=(Kt=at,__extends(Jt,Kt),Jt);function Jt(){var e=Kt.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var $t,Yt=($t=Qt,__extends(Zt,$t),Zt.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Zt.dataType="MessageData",Zt);function Zt(e,t,n,r,i){var a=$t.call(this)||this;return a.aiDataContract={ver:d.Required,message:d.Required,severityLevel:d.Default,properties:d.Default},t=t||We.NotSpecified,a.message=Fe.sanitizeMessage(e,t),a.properties=Fe.sanitizeProperties(e,r),a.measurements=Fe.sanitizeMeasurements(e,i),n&&(a.severityLevel=n),a}var en,tn=(en=Ut,__extends(nn,en),nn);function nn(){var e=en.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var rn,an=(rn=tn,__extends(on,rn),on.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",on.dataType="PageviewPerformanceData",on);function on(e,t,n,r,i,a,o){var s=rn.call(this)||this;return s.aiDataContract={ver:d.Required,name:d.Default,url:d.Default,duration:d.Default,perfTotal:d.Default,networkConnect:d.Default,sentRequest:d.Default,receivedResponse:d.Default,domProcessing:d.Default,properties:d.Default,measurements:d.Default},s.url=Fe.sanitizeUrl(e,n),s.name=Fe.sanitizeString(e,t)||We.NotSpecified,s.properties=Fe.sanitizeProperties(e,i),s.measurements=Fe.sanitizeMeasurements(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}var sn,ln,cn;sn=et,__extends(un,sn);function un(e,t){var n=sn.call(this)||this;return n.aiDataContract={baseType:d.Required,baseData:d.Required},n.baseType=e,n.baseData=t,n}(cn=ln=ln||{})[cn.Verbose=0]="Verbose",cn[cn.Information=1]="Information",cn[cn.Warning=2]="Warning",cn[cn.Error=3]="Error",cn[cn.Critical=4]="Critical";var gn=(fn.create=function(e,t,n,r,i,a){if(n=Fe.sanitizeString(r,n)||We.NotSpecified,J.isNullOrUndefined(e)||J.isNullOrUndefined(t)||J.isNullOrUndefined(n))throw Error("Input doesn't contain all required fields");var o={name:n,time:J.toISOString(new Date),iKey:"",ext:a||{},tags:[],data:{},baseType:t,baseData:e};if(!J.isNullOrUndefined(i))for(var s in i)i.hasOwnProperty(s)&&(o.data[s]=i[s]);return o},fn);function fn(){}var pn="constructor",dn="prototype",hn="function",mn="_dynInstFuncs",vn="_isDynProxy",yn="_dynClass",Sn="_dynCls$",Tn="_unknown_",_n="__proto__",xn=Object.getPrototypeOf,In=0;function wn(e,t){return e&&Object[dn].hasOwnProperty.call(e,t)}function Nn(e){return typeof e===hn}function En(e){return e&&(e===Object[dn]||e===Array[dn])}function Cn(e){return En(e)||e===Function[dn]}function bn(e){if(e){if(xn)return xn(e);var t=e[_n]||e[dn]||e[pn];if(t)return t}return null}function kn(e,t,n){return t!==pn&&Nn(e[t])&&(n||wn(e,t))}function Dn(e){throw new TypeError("DynamicProto: "+e)}function Pn(e,t,n){function r(e,t){return function(){return t.apply(e,arguments)}}var i={};for(var a in n)i[a]=r(t,n[a]);for(var o=bn(e),s=[];o&&!Cn(o)&&!function(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}(s,o);){for(var a in o)!i[a]&&kn(o,a,!xn)&&(i[a]=r(t,o[a]));s.push(o),o=bn(o)}return i}function Ln(e,t,n,r){if(!En(e)){var i=n[mn]=n[mn]||{},a=i[t]=i[t]||{};for(var o in n)kn(n,o,!1)&&n[o]!==r[o]&&(a[o]=n[o],delete n[o],wn(e,o)&&(!e[o]||e[o][vn])||(e[o]=function(n,r){var i=function(){if(this&&wn(n,yn)){var e=((this[mn]||{})[n[yn]]||{})[r];if(e)return e.apply(this,arguments);Dn("Missing ["+r+"] "+hn)}var t=n[r];return t===i&&(t=bn(n)[r]),Nn(t)||Dn("["+r+"] is not a "+hn),t.apply(this,arguments)};return i[vn]=1,i}(e,o)))}}function An(e,t){return wn(e,dn)?e.name||t||Tn:((e||{})[pn]||{}).name||t||Tn}function Mn(e,t,n){wn(e,dn)||Dn("theClass is an invalid class definition.");var r=e[dn];!function(e,t){for(var n=bn(t);n&&!Cn(n);){if(n===e)return 1;n=bn(n)}}(r,t)&&Dn("["+An(e)+"] is not in class heirarchy of ["+An(t)+"]");var i=null;wn(r,yn)?i=r[yn]:(i=Sn+An(e,"_")+"$"+In,In++,r[yn]=i);var a=function(e){var t={};for(var n in e)!t[n]&&kn(e,n,!1)&&(t[n]=e[n]);return t}(t);n(t,Pn(r,t,a)),Ln(r,i,t,a)}var Rn=function Qn(y,S,t,T){Mn(Qn,this,function(e){var g,f=J.arrForEach,p=J.isNullOrUndefined,d=null,h=[],m=!1;function v(){t&&f(t.getTransmissionControls(),function(e){f(e,function(e){return e.flush(!0)})})}t&&(g=t.logger),e.trackPageView=function(r,i){var e,a=r.name;!p(a)&&"string"==typeof a||(e=P(),a=r.name=e&&e.title||"");var t,o=r.uri;if(!p(o)&&"string"==typeof o||(t=M(),o=r.uri=t&&t.href||""),!T.isPerformanceTimingSupported())return y.sendPageViewInternal(r,i),v(),void g.throwInternal(Y.WARNING,re.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var n,s,l=!1,c=T.getPerformanceTiming().navigationStart,u=$e.GetDuration(c,+new Date);T.shouldCollectDuration(u)||(u=undefined),p(i)||p(i.duration)||(n=i.duration),!S&&isNaN(n)||(isNaN(n)&&((i=i||{}).duration=u),y.sendPageViewInternal(r,i),v(),l=!0),i=i||{},s=function(){var e,t=!1;try{T.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},T.populatePageViewPerformanceEvent(e),e.isValid||l?(l||(i.duration=e.durationMs,y.sendPageViewInternal(r,i)),m||(y.sendPageViewPerformanceInternal(e,i),m=!0)):(i.duration=u,y.sendPageViewInternal(r,i))):6e4<$e.GetDuration(c,+new Date)&&(t=!0,l||(i.duration=6e4,y.sendPageViewInternal(r,i)))}catch(n){g.throwInternal(Y.CRITICAL,re.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+We.getExceptionName(n),{exception:We.dump(n)})}return t},h.push(s),d=d||setInterval(function(){var e=h.slice(0),t=!1;h=[],f(e,function(e){e()?t=!0:h.push(e)}),0===h.length&&(clearInterval(d),d=null),t&&v()},100)}})},On=(Un.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+We.dump(r))}},Un.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(r){return this._logger.warnToConsole("Call to restart failed: "+We.dump(r)),null}},Un.prototype.startPageVisitTimer=function(e,t){try{if(We.canUseSessionStorage()){if(null!=We.getSessionStorage(this._logger,this.prevPageVisitDataKeyName))throw new Error("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new zn(e,t),r=U().stringify(n);We.setSessionStorage(this._logger,this.prevPageVisitDataKeyName,r)}}catch(i){this._logger.warnToConsole("Call to start failed: "+We.dump(i))}},Un.prototype.stopPageVisitTimer=function(){try{if(We.canUseSessionStorage()){var e=Date.now(),t=We.getSessionStorage(this._logger,this.prevPageVisitDataKeyName);if(t&&O()){var n=U().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,We.removeSessionStorage(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(r){return this._logger.warnToConsole("Stop page visit timer failed: "+We.dump(r)),null}},Un);function Un(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var zn=function(e,t){this.pageVisitStartTime=Date.now(),this.pageName=e,this.pageUrl=t},Vn=(Fn.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t,n,r,i,a,o=this.getPerformanceNavigationTiming(),s=this.getPerformanceTiming();(o||s)&&(a=o?(t=o.duration,n=$e.GetDuration(o.startTime,o.connectEnd),r=$e.GetDuration(o.requestStart,o.responseStart),i=$e.GetDuration(o.responseStart,o.responseEnd),$e.GetDuration(o.responseEnd,o.loadEventEnd)):(t=$e.GetDuration(s.navigationStart,s.loadEventEnd),n=$e.GetDuration(s.navigationStart,s.connectEnd),r=$e.GetDuration(s.requestStart,s.responseStart),i=$e.GetDuration(s.responseStart,s.responseEnd),$e.GetDuration(s.responseEnd,s.loadEventEnd)),0===t?this._logger.throwInternal(Y.WARNING,re.ErrorPVCalc,"error calculating page view performance.",{total:t,network:n,request:r,response:i,dom:a}):this.shouldCollectDuration(t,n,r,i,a)?t<Math.floor(n)+Math.floor(r)+Math.floor(i)+Math.floor(a)?this._logger.throwInternal(Y.WARNING,re.ClientPerformanceMathError,"client performance math error.",{total:t,network:n,request:r,response:i,dom:a}):(e.durationMs=t,e.perfTotal=e.duration=We.msToTimeSpan(t),e.networkConnect=We.msToTimeSpan(n),e.sentRequest=We.msToTimeSpan(r),e.receivedResponse=We.msToTimeSpan(i),e.domProcessing=We.msToTimeSpan(a),e.isValid=!0):this._logger.throwInternal(Y.WARNING,re.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:t,network:n,request:r,response:i,dom:a}))},Fn.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?R().timing:null},Fn.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?R().getEntriesByType("navigation")[0]:null},Fn.prototype.isPerformanceNavigationTimingSupported=function(){var e=R();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},Fn.prototype.isPerformanceTimingSupported=function(){var e=R();return e&&e.timing},Fn.prototype.isPerformanceTimingDataReady=function(){var e=R(),t=e?e.timing:0;return t&&0<t.domainLookupStart&&0<t.navigationStart&&0<t.responseStart&&0<t.requestStart&&0<t.loadEventEnd&&0<t.responseEnd&&0<t.connectEnd&&0<t.domLoading},Fn.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=(L()||{}).userAgent,i=!1;if(r)for(var a=0;a<n.length;a++)i=i||-1!==r.toLowerCase().indexOf(n[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},Fn);function Fn(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Gn="duration";function Bn(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var jn,qn=(jn=he,__extends(Wn,jn),Wn.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=We.stringToBoolOrDefault(e.disableExceptionTracking),e.autoTrackPageVisitTime=We.stringToBoolOrDefault(e.autoTrackPageVisitTime),e.overridePageViewDuration=We.stringToBoolOrDefault(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=We.stringToBoolOrDefault(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isCookieUseDisabled=We.stringToBoolOrDefault(e.isCookieUseDisabled),e.isStorageUseDisabled=We.stringToBoolOrDefault(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=We.stringToBoolOrDefault(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=We.stringToBoolOrDefault(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e},Wn.prototype.processTelemetry=function(e,t){var n=!1,r=this._telemetryInitializers.length;t=this._getTelCtx(t);for(var i=0;i<r;++i){var a=this._telemetryInitializers[i];if(a)try{if(!1===a.apply(null,[e])){n=!0;break}}catch(o){t.diagLog().throwInternal(Y.CRITICAL,re.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+We.getExceptionName(o),{exception:We.dump(o)},!0)}}n||this.processNext(e,t)},Wn.prototype.trackEvent=function(e,t){try{var n=gn.create(e,ct.dataType,ct.envelopeType,this.diagLog(),t);this.core.track(n)}catch(r){this.diagLog().throwInternal(Y.WARNING,re.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+We.getExceptionName(r),{exception:We.dump(r)})}},Wn.prototype.startTrackEvent=function(e){try{this._eventTracking.start(e)}catch(t){this.diagLog().throwInternal(Y.CRITICAL,re.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+We.getExceptionName(t),{exception:We.dump(t)})}},Wn.prototype.stopTrackEvent=function(e,t,n){try{this._eventTracking.stop(e,undefined,t)}catch(r){this.diagLog().throwInternal(Y.CRITICAL,re.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+We.getExceptionName(r),{exception:We.dump(r)})}},Wn.prototype.trackTrace=function(e,t){try{var n=gn.create(e,Yt.dataType,Yt.envelopeType,this.diagLog(),t);this.core.track(n)}catch(r){this.diagLog().throwInternal(Y.WARNING,re.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+We.getExceptionName(r),{exception:We.dump(r)})}},Wn.prototype.trackMetric=function(e,t){try{var n=gn.create(e,Mt.dataType,Mt.envelopeType,this.diagLog(),t);this.core.track(n)}catch(r){this.diagLog().throwInternal(Y.CRITICAL,re.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+We.getExceptionName(r),{exception:We.dump(r)})}},Wn.prototype.trackPageView=function(e,t){try{var n=e||{};this._pageViewManager.trackPageView(n,__assign({},n.properties,n.measurements,t)),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(r){this.diagLog().throwInternal(Y.CRITICAL,re.TrackPVFailed,"trackPageView failed, page view will not be collected: "+We.getExceptionName(r),{exception:We.dump(r)})}},Wn.prototype.sendPageViewInternal=function(e,t,n){var r=P();r&&(e.refUri=e.refUri===undefined?r.referrer:e.refUri);var i=gn.create(e,Ft.dataType,Ft.envelopeType,this.diagLog(),t,n);this.core.track(i),this._trackAjaxAttempts=0},Wn.prototype.sendPageViewPerformanceInternal=function(e,t,n){var r=gn.create(e,an.dataType,an.envelopeType,this.diagLog(),t,n);this.core.track(r)},Wn.prototype.trackPageViewPerformance=function(e,t){try{this._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),this.sendPageViewPerformanceInternal(e,t)}catch(n){this.diagLog().throwInternal(Y.CRITICAL,re.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+We.getExceptionName(n),{exception:We.dump(n)})}},Wn.prototype.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=P())&&t.title||""),this._pageTracking.start(e)}catch(n){this.diagLog().throwInternal(Y.CRITICAL,re.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+We.getExceptionName(n),{exception:We.dump(n)})}},Wn.prototype.stopTrackPage=function(e,t,n,r){try{var i,a;"string"!=typeof e&&(e=(i=P())&&i.title||""),"string"!=typeof t&&(t=(a=M())&&a.href||""),this._pageTracking.stop(e,t,n,r),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){this.diagLog().throwInternal(Y.CRITICAL,re.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+We.getExceptionName(o),{exception:We.dump(o)})}},Wn.prototype.sendExceptionInternal=function(e,t,n){var r=new vt(this.diagLog(),e.exception||new Error(We.NotSpecified),e.properties,e.measurements,e.severityLevel,e.id).toInterface(),i=gn.create(r,vt.dataType,vt.envelopeType,this.diagLog(),t,n);this.core.track(i)},Wn.prototype.trackException=function(e,t){try{this.sendExceptionInternal(e,t)}catch(n){this.diagLog().throwInternal(Y.CRITICAL,re.TrackExceptionFailed,"trackException failed, exception will not be collected: "+We.getExceptionName(n),{exception:We.dump(n)})}},Wn.prototype._onerror=function(e){try{var t,n={url:e&&e.url||(P()||{}).URL,lineNumber:e.lineNumber,columnNumber:e.columnNumber,message:e.message};We.isCrossOriginError(e.message,e.url,e.lineNumber,e.columnNumber,e.error)?this._sendCORSException(n.url):(We.isError(e.error)||(t="window.onerror@"+n.url+":"+e.lineNumber+":"+(e.columnNumber||0),e.error=new Error(e.message),e.error.stack=t),this.trackException({exception:e.error,severityLevel:ln.Error},n))}catch(i){var r=e.error?e.error.name+", "+e.error.message:"null";this.diagLog().throwInternal(Y.CRITICAL,re.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+We.getExceptionName(i),{exception:We.dump(i),errorString:r})}},Wn.prototype.addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},Wn.prototype.initialize=function(e,t,n,r){var o=this;if(!this.isInitialized()){if(J.isNullOrUndefined(t))throw Error("Error initializing");jn.prototype.initialize.call(this,e,t,n,r),this.setInitialized(!1);var i=this._getTelCtx(),a=this.identifier;this._globalconfig={instrumentationKey:e.instrumentationKey,endpointUrl:e.endpointUrl||"https://dc.services.visualstudio.com/v2/track"},this.config=i.getExtCfg(a);var s=Wn.getDefaultConfig();if(s!==undefined){for(var l in s)this.config[l]=i.getConfig(a,l,s[l]);if(this._globalconfig)for(var l in s)this._globalconfig[l]===undefined&&(this._globalconfig[l]=s[l])}this.config.isCookieUseDisabled&&We.disableCookies(),this.config.isStorageUseDisabled&&We.disableStorage();var c={instrumentationKey:function(){return e.instrumentationKey},accountId:function(){return o.config.accountId||e.accountId},sessionRenewalMs:function(){return o.config.sessionRenewalMs||e.sessionRenewalMs},sessionExpirationMs:function(){return o.config.sessionExpirationMs||e.sessionExpirationMs},sampleRate:function(){return o.config.samplingPercentage||e.samplingPercentage},cookieDomain:function(){return o.config.cookieDomain||e.cookieDomain},sdkExtension:function(){return o.config.sdkExtension||e.sdkExtension},isBrowserLinkTrackingEnabled:function(){return o.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled},appId:function(){return o.config.appId||e.appId}};this._pageViewPerformanceManager=new Vn(this.core),this._pageViewManager=new Rn(this,this.config.overridePageViewDuration,this.core,this._pageViewPerformanceManager),this._pageVisitTimeManager=new On(this.diagLog(),function(e,t,n){return o.trackPageVisitTime(e,t,n)}),this._telemetryInitializers=this._telemetryInitializers||[],this._addDefaultTelemetryInitializers(c),this._eventTracking=new Hn(this.diagLog(),"trackEvent"),this._eventTracking.action=function(e,t,n,r){(r=r||{})[Gn]=n.toString(),o.trackEvent({name:e,properties:r})},this._pageTracking=new Hn(this.diagLog(),"trackPageView"),this._pageTracking.action=function(e,t,n,r,i){J.isNullOrUndefined(r)&&(r={}),r[Gn]=n.toString();var a={name:e,uri:t,properties:r,measurements:i};o.sendPageViewInternal(a,r)};var u,g,f,p,d,h,m=D(),v=A(),y=M(),S=this;!1===this.config.disableExceptionTracking&&!this.config.autoExceptionInstrumented&&m&&(u=m.onerror,m.onerror=function(e,t,n,r,i){var a=u&&u(e,t,n,r,i);return!0!==a&&S._onerror({message:e,url:t,lineNumber:n,columnNumber:r,error:i}),a},this.config.autoExceptionInstrumented=!0),!1===this.config.disableExceptionTracking&&!0===this.config.enableUnhandledPromiseRejectionTracking&&!this.config.autoUnhandledPromiseInstrumented&&m&&(f=m[g="onunhandledrejection"],m[g]=function(e){var t=f&&f.call(m,e);return!0!==t&&S._onerror({message:e.reason.toString(),error:e.reason instanceof Error?e.reason:new Error(e.reason.toString()),url:y?y.href:"",lineNumber:0,columnNumber:0}),t},this.config.autoUnhandledPromiseInstrumented=!0),!0===this.config.enableAutoRouteTracking&&v&&J.isFunction(v.pushState)&&J.isFunction(v.replaceState)&&m&&"undefined"!=typeof Event&&(p=this,J.arrForEach(n,function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(o._properties=e)}),v.pushState=(h=v.pushState,function(){var e=h.apply(this,arguments);return Bn(m,We.createDomEvent(p.config.namePrefix+"pushState")),Bn(m,We.createDomEvent(p.config.namePrefix+"locationchange")),e}),v.replaceState=(d=v.replaceState,function(){var e=d.apply(this,arguments);return Bn(m,We.createDomEvent(p.config.namePrefix+"replaceState")),Bn(m,We.createDomEvent(p.config.namePrefix+"locationchange")),e}),m.addEventListener&&(m.addEventListener(p.config.namePrefix+"popstate",function(){Bn(m,We.createDomEvent(p.config.namePrefix+"locationchange"))}),m.addEventListener(p.config.namePrefix+"locationchange",function(){p._properties&&p._properties.context&&p._properties.context.telemetryTrace&&(p._properties.context.telemetryTrace.traceID=We.generateW3CId(),p._properties.context.telemetryTrace.name=y&&y.pathname||"_unknown_"),o._currUri&&(o._prevUri=o._currUri),o._currUri=y&&y.href||"",setTimeout(function(e){p.trackPageView({refUri:e,properties:{duration:0}})}.bind(o,o._prevUri),p.autoRoutePVDelay)}))),this.setInitialized(!0)}},Wn.prototype.trackPageVisitTime=function(e,t,n){var r={PageName:e,PageUrl:t};this.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},r)},Wn.prototype._addDefaultTelemetryInitializers=function(e){var r;e.isBrowserLinkTrackingEnabled()||(r=["/browserLinkSignalR/","/__browserLink/"],this._addTelemetryInitializer(function(e){if(e.baseType===Ht.dataType){var t=e.baseData;if(t)for(var n=0;n<r.length;n++)if(t.target&&0<=t.target.indexOf(r[n]))return!1}return!0}))},Wn.prototype._addTelemetryInitializer=function(e){this._telemetryInitializers.push(e)},Wn.prototype._sendCORSException=function(e){var t={message:"Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",url:e,lineNumber:0,columnNumber:0,error:undefined},n=gn.create(t,vt.dataType,vt.envelopeType,this.diagLog(),{url:e});this.core.track(n)},Wn.Version="2.5.5",Wn);function Wn(){var e=jn.call(this)||this;e.identifier="ApplicationInsightsAnalytics",e.priority=180,e.autoRoutePVDelay=500,e._trackAjaxAttempts=0;var t=M();return e._prevUri=t&&t.href||"",e}var Hn=(Xn.prototype.start=function(e){"undefined"!=typeof this._events[e]&&this._logger.throwInternal(Y.WARNING,re.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:this._name,key:e},!0),this._events[e]=+new Date},Xn.prototype.stop=function(e,t,n,r){var i,a,o=this._events[e];isNaN(o)?this._logger.throwInternal(Y.WARNING,re.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:this._name,key:e},!0):(i=+new Date,a=$e.GetDuration(o,i),this.action(e,t,a,n,r)),delete this._events[e],this._events[e]=undefined},Xn);function Xn(e,t){this._name=t,this._events={},this._logger=e}e.ApplicationInsights=qn,function(e,t,n){var r=Object.defineProperty;if(r)try{return r(e,t,n)}catch(i){}typeof n.value!==undefined&&(e[t]=n.value)}(e,"__esModule",{value:!0})});
//# sourceMappingURL=applicationinsights-analytics-js.min.js.map
